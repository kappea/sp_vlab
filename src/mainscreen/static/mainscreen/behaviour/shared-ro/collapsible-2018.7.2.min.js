$.widget("forms.collapsible",{options:{animateSpeed:200,animateFactor:.8,easing:"easeOutExpo",defaultClosed:!0},_init:function(){this.collapsed=!0,this._setPanelHeight(),this.options.defaultClosed&&this.collapse()},_calculateChildrenHeight:function(){var e=0;return this.element.children().each(function(){e+=$(this).prop("scrollHeight")}),e},_setPanelHeight:function(){this.panelHeight=this._calculateChildrenHeight()},_getPanelHeight:function(){return this.panelHeight},expand:function(){var e=this;e.element.css("display","block"),this.element.css({height:0}).animate({height:this._getPanelHeight()},this.options.animateSpeed,this.options.easing,function(){e.element.attr("aria-hidden","false"),e.collapsed=!1}),e.element.focus()},collapse:function(){var e=this;this.element.css({height:this._getPanelHeight()}).animate({height:0},this.options.animateSpeed*this.options.animateFactor,this.options.easing,function(){e.element.css("display","none"),e.element.attr("aria-hidden","true"),e.collapsed=!0})},isCollapsed:function(){return this.collapsed},toggle:function(){this.isCollapsed()?this.expand():this.collapse()}})
