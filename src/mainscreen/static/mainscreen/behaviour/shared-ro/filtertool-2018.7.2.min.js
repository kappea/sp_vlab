require(["https://www.contenttoolsrijksoverheid.nl/releases/v1-1.11/filtertool-client-v1-1.11.min.js"],function(){$.fn.createFilterTool=function(){return this.each(function(){function o(){FilterToolClient.init({divElementId:t,filterToolURL:n,showTitle:r,showDescription:i,answeringQuestionsIsMandatory:!0,language:u()})}function u(){var e="nl-NL",t=$("html").attr("lang")||e;return t!=="nl-NL"&&(e="en-GB"),t==="nl"&&(e="nl-NL"),e}var e=$(this),t=e.attr("id"),n=e.attr("data-url"),r=e.attr("data-showTitle")==="true",i=e.attr("data-showIntro")==="true",s=e.html();o()})},$(".filterToolWrapper").createFilterTool(),$.fn.trackFilterTools=function(){var e={eventTitle:"",currentQuestionID:""},t=$.extend({},e);return this.each(function(){function n(){t.eventTitle=e.find("header h1:visible").html()||$("#content").find("h1").first().text()||$("head").find("title").text()}function r(){t.currentQuestionID=e.find(".filtertool-question-visible").attr("id")}function i(){e.find(".filtertool-nextQuestionButton").on("click",function(){o(t.currentQuestionID),r()}),e.find(".filtertool-previousQuestionButton").on("click",function(){r()}),e.find(".filtertool-finishQuestionsButton").on("click",function(){o(t.currentQuestionID),setTimeout(function(){a(),u()},500)})}function s(e){var t=$("#"+e).index()+1;return t<10&&(t="0"+t),t}function o(e){var n=$("#"+e),r=n.find(".filtertool-question-text-label").text(),i=n.find(".filtertool-question-options input:checked").parent("label"),o="";i.length>1?i.each(function(e){o+=$.trim($(this).text()),e+1!==i.length&&(o+=" | ")}):o+=$.trim(i.text()),_paq.push(["trackEvent",t.eventTitle,"Vraag "+s(e)+": "+r,o])}function u(){e.find(".filtertool-contentblock-toggle-button").on("click",function(){$(this).hasClass("filtertool-toggle-open")&&f($(this))}),e.find(".filtertool-groupingButton").on("click",function(){l($(this))}),e.find(".filtertool-savePDFButton").on("click",function(){c()}),e.find(".filtertool-feedback-change-answer-button").on("click",function(){h($(this).parent("li"))}),e.find(".filtertool-resetFormButton").on("click",function(){p()});var t=e.find(".filtertool-contentblocks-list");t.find("a").on("click",function(){_paq.push(["trackLink",$(this).attr("href"),"link"])})}function a(){var n=e.find(".filtertool-feedback-item"),r="";n.each(function(e){var t=$(this).html(),i=t.split("<button");r+=$.trim(i[0]),e+1!==n.length&&(r+=" | ")}),_paq.push(["trackEvent",t.eventTitle,"Einde"]),_paq.push(["trackEvent",t.eventTitle,"Situatie",r])}function f(e){_paq.push(["trackEvent",t.eventTitle,"Contentblock open",e.attr("data-toggletitle")])}function l(e){_paq.push(["trackEvent",t.eventTitle,"Sorteer overzicht",e.text()])}function c(){_paq.push(["trackEvent",t.eventTitle,"Download PDF"])}function h(e){var n=e.html(),r=n.split("<button"),i=$.trim(r[0]);_paq.push(["trackEvent",t.eventTitle,"Wijzigen",i])}function p(){_paq.push(["trackEvent",t.eventTitle,"Opnieuw"])}function d(){n(),r(),i(),_paq.push(["trackEvent",t.eventTitle,"Start"])}var e=$(this);setTimeout(function(){d()},1e3)})},$(".filterToolWrapper").trackFilterTools()})
