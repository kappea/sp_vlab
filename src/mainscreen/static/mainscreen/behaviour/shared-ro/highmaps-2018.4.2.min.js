"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){var e=t.Axis,i=t.each,n=t.pick,o=t.wrap;o(e.prototype,"getSeriesExtremes",function(t){var e,o,a,s=this.isXAxis,r=[];s&&i(this.series,function(t,e){t.useMapGeometry&&(r[e]=t.xData,t.xData=[])}),t.call(this),s&&(e=n(this.dataMin,Number.MAX_VALUE),o=n(this.dataMax,-Number.MAX_VALUE),i(this.series,function(t,i){t.useMapGeometry&&(e=Math.min(e,n(t.minX,e)),o=Math.max(o,n(t.maxX,o)),t.xData=r[i],a=!0)}),a&&(this.dataMin=e,this.dataMax=o))}),o(e.prototype,"setAxisTranslation",function(t){var e,n,o,a,s,r,l=this.chart,h=l.plotWidth/l.plotHeight,p=l.xAxis[0];t.call(this),"yAxis"===this.coll&&void 0!==p.transA&&i(this.series,function(t){t.preserveAspectRatio&&(r=!0)}),r&&(this.transA=p.transA=Math.min(this.transA,p.transA),e=h/((p.max-p.min)/(this.max-this.min)),o=e<1?this:p,n=(o.max-o.min)*o.transA,o.pixelPadding=o.len-n,o.minPixelPadding=o.pixelPadding/2,a=o.fixTo,a&&(s=a[1]-o.toValue(a[0],!0),s*=o.transA,(Math.abs(s)>o.minPixelPadding||o.min===o.dataMin&&o.max===o.dataMax)&&(s=0),o.minPixelPadding-=s))}),o(e.prototype,"render",function(t){t.call(this),this.fixTo=null})}(t),function(t){var e,i=t.Axis,n=t.Chart,o=t.color,a=t.each,s=t.extend,r=t.isNumber,l=t.Legend,h=t.LegendSymbolMixin,p=t.noop,d=t.merge,c=t.pick,u=t.wrap;e=t.ColorAxis=function(){this.init.apply(this,arguments)},s(e.prototype,i.prototype),s(e.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(i.prototype.keepProps),init:function(t,e){var n,o="vertical"!==t.options.legend.layout;this.coll="colorAxis",n=d(this.defaultColorAxisOptions,{side:o?2:1,reversed:!o},e,{opposite:!o,showEmpty:!1,title:null}),i.prototype.init.call(this,t,n),e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=o,this.zoomEnabled=!1,this.defaultLegendLength=200},initDataClasses:function(t){var e,i=this.chart,n=0,s=i.options.chart.colorCount,r=this.options,l=t.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],a(t.dataClasses,function(t,a){var h;t=d(t),e.push(t),t.color||("category"===r.dataClassColor?(h=i.options.colors,s=h.length,t.color=h[n],t.colorIndex=n,n++,n===s&&(n=0)):t.color=o(r.minColor).tweenTo(o(r.maxColor),l<2?.5:a/(l-1)))})},setTickPositions:function(){if(!this.dataClasses)return i.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],a(this.stops,function(t){t.color=o(t[1])})},setOptions:function(t){i.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},setAxisSize:function(){var t,e,i,n,o=this.legendSymbol,a=this.chart,s=a.options.legend||{};o?(this.left=t=o.attr("x"),this.top=e=o.attr("y"),this.width=i=o.attr("width"),this.height=n=o.attr("height"),this.right=a.chartWidth-t-i,this.bottom=a.chartHeight-e-n,this.len=this.horiz?i:n,this.pos=this.horiz?t:e):this.len=(this.horiz?s.symbolWidth:s.symbolHeight)||this.defaultLegendLength},normalizedValue:function(t){return this.isLog&&(t=this.val2lin(t)),1-(this.max-t)/(this.max-this.min||1)},toColor:function(t,e){var i,n,o,a,s,r,l=this.stops,h=this.dataClasses;if(h){for(r=h.length;r--;)if(s=h[r],n=s.from,o=s.to,(void 0===n||t>=n)&&(void 0===o||t<=o)){a=s.color,e&&(e.dataClass=r,e.colorIndex=s.colorIndex);break}}else{for(i=this.normalizedValue(t),r=l.length;r--&&!(i>l[r][0]););n=l[r]||l[r+1],o=l[r+1]||n,i=1-(o[0]-i)/(o[0]-n[0]||1),a=n.color.tweenTo(o.color,i)}return a},getOffset:function(){var t=this.legendGroup,e=this.chart.axisOffset[this.side];t&&(this.axisParent=t,i.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},setLegendColor:function(){var t,e=this.horiz,i=this.reversed,n=i?1:0,o=i?0:1;t=e?[n,0,o,0]:[0,o,0,n],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},drawLegendSymbol:function(t,e){var i=t.padding,n=t.options,o=this.horiz,a=c(n.symbolWidth,o?this.defaultLegendLength:12),s=c(n.symbolHeight,o?12:this.defaultLegendLength),r=c(n.labelPadding,o?16:30),l=c(n.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,a,s).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=a+i+(o?l:r),this.legendItemHeight=s+i+(o?r:0)},setState:p,visible:!0,setVisible:p,getSeriesExtremes:function(){var t=this.series,e=t.length;for(this.dataMin=1/0,this.dataMax=-(1/0);e--;)void 0!==t[e].valueMin&&(this.dataMin=Math.min(this.dataMin,t[e].valueMin),this.dataMax=Math.max(this.dataMax,t[e].valueMax))},drawCrosshair:function(t,e){var n,o=e&&e.plotX,a=e&&e.plotY,s=this.pos,r=this.len;e&&(n=this.toPixels(e[e.series.colorKey]),n<s?n=s-2:n>s+r&&(n=s+r+2),e.plotX=n,e.plotY=this.len-n,i.prototype.drawCrosshair.call(this,t,e),e.plotX=o,e.plotY=a,this.cross&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(t,e,n,o,a){return r(a)?this.horiz?["M",a-4,this.top-6,"L",a+4,this.top-6,a,this.top,"Z"]:["M",this.left,a,"L",this.left-6,a+6,this.left-6,a-6,"Z"]:i.prototype.getPlotLinePath.call(this,t,e,n,o)},update:function(t,e){var n=this.chart,o=n.legend;a(this.series,function(t){t.isDirtyData=!0}),t.dataClasses&&o.allItems&&(a(o.allItems,function(t){t.isDataClass&&t.legendGroup&&t.legendGroup.destroy()}),n.isDirtyLegend=!0),n.options[this.coll]=d(this.userOptions,t),i.prototype.update.call(this,t,e),this.legendItem&&(this.setLegendColor(),o.colorizeItem(this,!0))},remove:function(){this.legendItem&&this.chart.legend.destroyItem(this),i.prototype.remove.call(this)},getDataClassLegendSymbols:function(){var e,i=this,n=this.chart,o=this.legendItems,r=n.options.legend,l=r.valueDecimals,d=r.valueSuffix||"";return o.length||a(this.dataClasses,function(r,c){var u=!0,m=r.from,g=r.to;e="",void 0===m?e="< ":void 0===g&&(e="> "),void 0!==m&&(e+=t.numberFormat(m,l)+d),void 0!==m&&void 0!==g&&(e+=" - "),void 0!==g&&(e+=t.numberFormat(g,l)+d),o.push(s({chart:n,name:e,options:{},drawLegendSymbol:h.drawRectangle,visible:!0,setState:p,isDataClass:!0,setVisible:function(){u=this.visible=!u,a(i.series,function(t){a(t.points,function(t){t.dataClass===c&&t.setVisible(u)})}),n.legend.colorizeItem(this,u)}},r))}),o},name:""}),a(["fill","stroke"],function(e){t.Fx.prototype[e+"Setter"]=function(){this.elem.attr(e,o(this.start).tweenTo(o(this.end),this.pos),null,!0)}}),u(n.prototype,"getAxes",function(t){var i=this.options,n=i.colorAxis;t.call(this),this.colorAxis=[],n&&new e(this,n)}),u(l.prototype,"getAllItems",function(t){var e=[],i=this.chart.colorAxis[0];return i&&i.options&&(i.options.showInLegend&&(i.options.dataClasses?e=e.concat(i.getDataClassLegendSymbols()):e.push(i)),a(i.series,function(t){t.options.showInLegend=!1})),e.concat(t.call(this))}),u(l.prototype,"colorizeItem",function(t,e,i){t.call(this,e,i),i&&e.legendColor&&e.legendSymbol.attr({fill:e.legendColor})}),u(l.prototype,"update",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.colorAxis[0]&&this.chart.colorAxis[0].update({},arguments[2])})}(t),function(t){var e=t.defined,i=t.each,n=t.noop,o=t.seriesTypes;t.colorPointMixin={isValid:function(){return null!==this.value},setVisible:function(t){var e=this,n=t?"show":"hide";i(["graphic","dataLabel"],function(t){e[t]&&e[t][n]()})},setState:function(e){t.Point.prototype.setState.call(this,e),this.graphic&&this.graphic.attr({zIndex:"hover"===e?1:0})}},t.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:n,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:o.column.prototype.pointAttribs,translateColors:function(){var t=this,e=this.options.nullColor,n=this.colorAxis,o=this.colorKey;i(this.data,function(i){var a,s=i[o];a=i.options.color||(i.isNull?e:n&&void 0!==s?n.toColor(s,i):i.color||t.color),a&&(i.color=a)})},colorAttribs:function(t){var i={};return e(t.color)&&(i[this.colorProp||"fill"]=t.color),i}}}(t),function(t){function e(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function i(t){this.init(t)}var n=t.addEvent,o=t.Chart,a=t.doc,s=t.each,r=t.extend,l=t.merge,h=t.pick,p=t.wrap;i.prototype.init=function(t){this.chart=t,t.mapNavButtons=[]},i.prototype.update=function(i){var o,a,s,p,d,c=this.chart,u=c.options.mapNavigation,m=function(t){this.handler.call(c,t),e(t)},g=c.mapNavButtons;for(i&&(u=c.options.mapNavigation=l(c.options.mapNavigation,i));g.length;)g.pop().destroy();h(u.enableButtons,u.enabled)&&!c.renderer.forExport&&t.objectEach(u.buttons,function(t,i){o=l(u.buttonOptions,t),a=o.theme,a.style=l(o.theme.style,o.style),s=a.states,p=s&&s.hover,d=s&&s.select,t=c.renderer.button(o.text,0,0,m,a,p,d,0,"zoomIn"===i?"topbutton":"bottombutton").addClass("highcharts-map-navigation").attr({width:o.width,height:o.height,title:c.options.lang[i],padding:o.padding,zIndex:5}).add(),t.handler=o.onclick,t.align(r(o,{width:t.width,height:2*t.height}),null,o.alignTo),n(t.element,"dblclick",e),g.push(t)}),this.updateEvents(u)},i.prototype.updateEvents=function(t){var i=this.chart;h(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||n(i.container,"dblclick",function(t){i.pointer.onContainerDblClick(t)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),h(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||n(i.container,void 0===a.onmousewheel?"DOMMouseScroll":"mousewheel",function(t){return i.pointer.onContainerMouseWheel(t),e(t),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},r(o.prototype,{fitToBox:function(t,e){return s([["x","width"],["y","height"]],function(i){var n=i[0],o=i[1];t[n]+t[o]>e[n]+e[o]&&(t[o]>e[o]?(t[o]=e[o],t[n]=e[n]):t[n]=e[n]+e[o]-t[o]),t[o]>e[o]&&(t[o]=e[o]),t[n]<e[n]&&(t[n]=e[n])}),t},mapZoom:function(t,e,i,n,o){var a=this,s=a.xAxis[0],r=s.max-s.min,l=h(e,s.min+r/2),p=r*t,d=a.yAxis[0],c=d.max-d.min,u=h(i,d.min+c/2),m=c*t,g=n?(n-s.pos)/s.len:.5,f=o?(o-d.pos)/d.len:.5,x=l-p*g,y=u-m*f,v=a.fitToBox({x:x,y:y,width:p,height:m},{x:s.dataMin,y:d.dataMin,width:s.dataMax-s.dataMin,height:d.dataMax-d.dataMin}),b=v.x<=s.dataMin&&v.width>=s.dataMax-s.dataMin&&v.y<=d.dataMin&&v.height>=d.dataMax-d.dataMin;n&&(s.fixTo=[n-s.pos,e]),o&&(d.fixTo=[o-d.pos,i]),void 0===t||b?(s.setExtremes(void 0,void 0,!1),d.setExtremes(void 0,void 0,!1)):(s.setExtremes(v.x,v.x+v.width,!1),d.setExtremes(v.y,v.y+v.height,!1)),a.redraw()}}),p(o.prototype,"render",function(t){this.mapNavigation=new i(this),this.mapNavigation.update(),t.call(this)})}(t),function(t){var e=t.extend,i=t.pick,n=t.Pointer,o=t.wrap;e(n.prototype,{onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e,i=this.chart;t=this.normalize(t),e=t.detail||-(t.wheelDelta/120),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&i.mapZoom(Math.pow(i.options.mapNavigation.mouseWheelSensitivity,e),i.xAxis[0].toValue(t.chartX),i.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)}}),o(n.prototype,"zoomOption",function(t){var e=this.chart.options.mapNavigation;i(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}),o(n.prototype,"pinchTranslate",function(t,e,i,n,o,a,s){var r;t.call(this,e,i,n,o,a,s),"map"===this.chart.options.chart.type&&this.hasZoom&&(r=n.scaleX>n.scaleY,this.pinchTranslateDirection(!r,e,i,n,o,a,s,r?n.scaleX:n.scaleY))})}(t),function(t){var e=t.colorPointMixin,i=t.colorSeriesMixin,n=t.doc,o=t.each,a=t.extend,s=t.isNumber,r=t.LegendSymbolMixin,l=t.map,h=t.merge,p=t.noop,d=t.pick,c=t.isArray,u=t.Point,m=t.Series,g=t.seriesType,f=t.seriesTypes,x=t.splat,y=void 0!==n.documentElement.style.vectorEffect;g("map","scatter",{allAreas:!0,animation:!1,nullColor:"#f7f7f7",borderColor:"#cccccc",borderWidth:1,marker:null,stickyTracking:!1,joinBy:"hc-key",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null},select:{color:"#cccccc"}}},h(i,{type:"map",getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:p,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],getBox:function(e){var i,n=Number.MAX_VALUE,a=-n,r=n,l=-n,h=n,p=n,c=this.xAxis,u=this.yAxis;o(e||[],function(e){if(e.path){"string"==typeof e.path&&(e.path=t.splitPath(e.path));var o=e.path||[],c=o.length,u=!1,m=-n,g=n,f=-n,x=n,y=e.properties;if(!e._foundBox){for(;c--;)s(o[c])&&(u?(m=Math.max(m,o[c]),g=Math.min(g,o[c])):(f=Math.max(f,o[c]),x=Math.min(x,o[c])),u=!u);e._midX=g+(m-g)*d(e.middleX,y&&y["hc-middle-x"],.5),e._midY=x+(f-x)*d(e.middleY,y&&y["hc-middle-y"],.5),e._maxX=m,e._minX=g,e._maxY=f,e._minY=x,e.labelrank=d(e.labelrank,(m-g)*(f-x)),e._foundBox=!0}a=Math.max(a,e._maxX),r=Math.min(r,e._minX),l=Math.max(l,e._maxY),h=Math.min(h,e._minY),p=Math.min(e._maxX-e._minX,e._maxY-e._minY,p),i=!0}}),i&&(this.minY=Math.min(h,d(this.minY,n)),this.maxY=Math.max(l,d(this.maxY,-n)),this.minX=Math.min(r,d(this.minX,n)),this.maxX=Math.max(a,d(this.maxX,-n)),c&&void 0===c.options.minRange&&(c.minRange=Math.min(5*p,(this.maxX-this.minX)/5,c.minRange||n)),u&&void 0===u.options.minRange&&(u.minRange=Math.min(5*p,(this.maxY-this.minY)/5,u.minRange||n)))},getExtremes:function(){m.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(t){var e,i=this,n=!1,o=i.xAxis,a=i.yAxis,r=o.min,l=o.transA,h=o.minPixelPadding,p=a.min,d=a.transA,c=a.minPixelPadding,u=[];if(t)for(e=t.length;e--;)s(t[e])?(u[e]=n?(t[e]-r)*l+h:(t[e]-p)*d+c,n=!n):u[e]=t[e];return u},setData:function(e,i,n,a){var r,p,d,u=this.options,g=this.chart.options.chart,f=g&&g.map,y=u.mapData,v=u.joinBy,b=null===v,M=u.keys||this.pointArrayMap,w=[],C={},A=this.chart.mapTransforms;if(!y&&f&&(y="string"==typeof f?t.maps[f]:f),b&&(v="_i"),v=this.joinBy=x(v),v[1]||(v[1]=v[0]),e&&o(e,function(t,i){var n=0;if(s(t))e[i]={value:t};else if(c(t)){e[i]={},!u.keys&&t.length>M.length&&"string"==typeof t[0]&&(e[i]["hc-key"]=t[0],++n);for(var o=0;o<M.length;++o,++n)M[o]&&(e[i][M[o]]=t[n])}b&&(e[i]._i=i)}),this.getBox(e),this.chart.mapTransforms=A=g&&g.mapTransforms||y&&y["hc-transform"]||A,A&&t.objectEach(A,function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))}),y){for("FeatureCollection"===y.type&&(this.mapTitle=y.title,y=t.geojson(y,this.type,this)),this.mapData=y,this.mapMap={},d=0;d<y.length;d++)r=y[d],p=r.properties,r._i=d,v[0]&&p&&p[v[0]]&&(r[v[0]]=p[v[0]]),C[r[v[0]]]=r;this.mapMap=C,e&&v[1]&&o(e,function(t){C[t[v[1]]]&&w.push(C[t[v[1]]])}),u.allAreas?(this.getBox(y),e=e||[],v[1]&&o(e,function(t){w.push(t[v[1]])}),w="|"+l(w,function(t){return t&&t[v[0]]}).join("|")+"|",o(y,function(t){v[0]&&w.indexOf("|"+t[v[0]]+"|")!==-1||(e.push(h(t,{value:null})),a=!1)})):this.getBox(w)}m.prototype.setData.call(this,e,i,n,a)},drawGraph:p,drawDataLabels:p,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var t=this,e=t.xAxis,i=t.yAxis,n=t.doFullTranslate();t.generatePoints(),o(t.data,function(o){o.plotX=e.toPixels(o._midX,!0),o.plotY=i.toPixels(o._midY,!0),n&&(o.shapeType="path",o.shapeArgs={d:t.translatePath(o.path)})}),t.translateColors()},pointAttribs:function(t,e){var i;return i=f.column.prototype.pointAttribs.call(this,t,e),y?i["vector-effect"]="non-scaling-stroke":i["stroke-width"]="inherit",i},drawPoints:function(){var t,e,i,n,a,s,r,l,h,p=this,d=p.xAxis,c=p.yAxis,u=p.group,m=p.chart,g=m.renderer,x=this.baseTrans;p.transformGroup||(p.transformGroup=g.g().attr({scaleX:1,scaleY:1}).add(u),p.transformGroup.survive=!0),p.doFullTranslate()?(m.hasRendered&&o(p.points,function(t){t.shapeArgs&&(t.shapeArgs.fill=p.pointAttribs(t,t.state).fill)}),p.group=p.transformGroup,f.column.prototype.drawPoints.apply(p),p.group=u,o(p.points,function(t){t.graphic&&(t.name&&t.graphic.addClass("highcharts-name-"+t.name.replace(/ /g,"-").toLowerCase()),t.properties&&t.properties["hc-key"]&&t.graphic.addClass("highcharts-key-"+t.properties["hc-key"].toLowerCase()))}),this.baseTrans={originX:d.min-d.minPixelPadding/d.transA,originY:c.min-c.minPixelPadding/c.transA+(c.reversed?0:c.len/c.transA),transAX:d.transA,transAY:c.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(t=d.transA/x.transAX,e=c.transA/x.transAY,i=d.toPixels(x.originX,!0),n=c.toPixels(x.originY,!0),t>.99&&t<1.01&&e>.99&&e<1.01&&(t=1,e=1,i=Math.round(i),n=Math.round(n)),a=this.transformGroup,m.renderer.globalAnimation?(s=a.attr("translateX"),r=a.attr("translateY"),l=a.attr("scaleX"),h=a.attr("scaleY"),a.attr({animator:0}).animate({animator:1},{step:function(o,p){a.attr({translateX:s+(i-s)*p.pos,translateY:r+(n-r)*p.pos,scaleX:l+(t-l)*p.pos,scaleY:h+(e-h)*p.pos})}})):a.attr({translateX:i,translateY:n,scaleX:t,scaleY:e})),y||p.group.element.setAttribute("stroke-width",p.options[p.pointAttrToOptions&&p.pointAttrToOptions["stroke-width"]||"borderWidth"]/(t||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){m.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var t=this,e=m.prototype.render;t.chart.renderer.isVML&&t.data.length>3e3?setTimeout(function(){e.call(t)}):e.call(t)},animate:function(t){var e=this.chart,i=this.options.animation,n=this.group,o=this.xAxis,a=this.yAxis,s=o.pos,r=a.pos;e.renderer.isSVG&&(i===!0&&(i={duration:1e3}),t?n.attr({translateX:s+o.len/2,translateY:r+a.len/2,scaleX:.001,scaleY:.001}):(n.animate({translateX:s,translateY:r,scaleX:1,scaleY:1},i),this.animate=null))},animateDrilldown:function(t){var e,i=this.chart.plotBox,n=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],a=n.bBox,s=this.chart.options.drilldown.animation;t||(e=Math.min(a.width/i.width,a.height/i.height),n.shapeArgs={scaleX:e,scaleY:e,translateX:a.x,translateY:a.y},o(this.points,function(t){t.graphic&&t.graphic.attr(n.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},s)}),this.animate=null)},drawLegendSymbol:r.drawRectangle,animateDrillupFrom:function(t){f.column.prototype.animateDrillupFrom.call(this,t)},animateDrillupTo:function(t){f.column.prototype.animateDrillupTo.call(this,t)}}),a({applyOptions:function(t,e){var i,n=u.prototype.applyOptions.call(this,t,e),o=this.series,s=o.joinBy;return o.mapData&&(i=void 0!==n[s[1]]&&o.mapMap[n[s[1]]],i?(o.xyFromShape&&(n.x=i._midX,n.y=i._midY),a(n,i)):n.value=n.value||null),n},onMouseOver:function(t){clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?u.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},zoomTo:function(){var t=this,e=t.series;e.xAxis.setExtremes(t._minX,t._maxX,!1),e.yAxis.setExtremes(t._minY,t._maxY,!1),e.chart.redraw()}},e))}(t),function(t){var e=t.seriesType,i=t.seriesTypes;e("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(t,e){var n=i.map.prototype.pointAttribs.call(this,t,e);return n.fill=this.options.fillColor,n},drawLegendSymbol:i.line.prototype.drawLegendSymbol})}(t),function(t){var e=t.merge,i=t.Point,n=t.seriesType;n("mappoint","scatter",{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0},{applyOptions:function(t,n){var o=void 0!==t.lat&&void 0!==t.lon?e(t,this.series.chart.fromLatLonToPoint(t)):t;return i.prototype.applyOptions.call(this,o,n)}})}(t),function(t){var e=t.arrayMax,i=t.arrayMin,n=t.Axis,o=t.color,a=t.each,s=t.isNumber,r=t.noop,l=t.pick,h=t.pInt,p=t.Point,d=t.Series,c=t.seriesType,u=t.seriesTypes;c("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,pointAttribs:function(t,e){var i=this.options.marker,n=l(i.fillOpacity,.5),a=d.prototype.pointAttribs.call(this,t,e);return 1!==n&&(a.fill=o(a.fill).setOpacity(n).get("rgba")),a},getRadii:function(t,e,i,n){var o,a,s,r,l,h=this.zData,p=[],d=this.options,c="width"!==d.sizeBy,u=d.zThreshold,m=e-t;for(a=0,o=h.length;a<o;a++)r=h[a],d.sizeByAbsoluteValue&&null!==r&&(r=Math.abs(r-u),e=Math.max(e-u,Math.abs(t-u)),t=0),null===r?l=null:r<t?l=i/2-1:(s=m>0?(r-t)/m:.5,c&&s>=0&&(s=Math.sqrt(s)),l=Math.ceil(i+s*(n-i))/2),p.push(l);this.radii=p},animate:function(t){var e=this.options.animation;t||(a(this.points,function(t){var i,n=t.graphic;n&&n.width&&(i={x:n.x,y:n.y,width:n.width,height:n.height},n.attr({x:t.plotX,y:t.plotY,width:1,height:1}),n.animate(i,e))}),this.animate=null)},translate:function(){var e,i,n,o=this.data,a=this.radii;for(u.scatter.prototype.translate.call(this),e=o.length;e--;)i=o[e],n=a?a[e]:0,s(n)&&n>=this.minPxSize/2?(i.marker=t.extend(i.marker,{radius:n,width:2*n,height:2*n}),i.dlBox={x:i.plotX-n,y:i.plotY-n,width:2*n,height:2*n}):i.shapeArgs=i.plotY=i.dlBox=void 0},alignDataLabel:u.column.prototype.alignDataLabel,buildKDTree:r,applyZones:r},{haloPath:function(t){return p.prototype.haloPath.call(this,0===t?0:(this.marker?this.marker.radius||0:0)+t)},ttBelow:!1}),n.prototype.beforePadding=function(){var t=this,n=this.len,o=this.chart,r=0,p=n,d=this.isXAxis,c=d?"xData":"yData",u=this.min,m={},g=Math.min(o.plotWidth,o.plotHeight),f=Number.MAX_VALUE,x=-Number.MAX_VALUE,y=this.max-u,v=n/y,b=[];a(this.series,function(n){var s,r=n.options;!n.bubblePadding||!n.visible&&o.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,b.push(n),d&&(a(["minSize","maxSize"],function(t){var e=r[t],i=/%$/.test(e);e=h(e),m[t]=i?g*e/100:e}),n.minPxSize=m.minSize,n.maxPxSize=Math.max(m.maxSize,m.minSize),s=n.zData,s.length&&(f=l(r.zMin,Math.min(f,Math.max(i(s),r.displayNegative===!1?r.zThreshold:-Number.MAX_VALUE))),x=l(r.zMax,Math.max(x,e(s))))))}),a(b,function(e){var i,n=e[c],o=n.length;if(d&&e.getRadii(f,x,e.minPxSize,e.maxPxSize),y>0)for(;o--;)s(n[o])&&t.dataMin<=n[o]&&n[o]<=t.dataMax&&(i=e.radii[o],r=Math.min((n[o]-u)*v-i,r),p=Math.max((n[o]-u)*v+i,p))}),b.length&&y>0&&!this.isLog&&(p-=n,v*=(n+r-p)/n,a([["min","userMin",r],["max","userMax",p]],function(e){void 0===l(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/v)}))}}(t),function(t){var e=t.merge,i=t.Point,n=t.seriesType,o=t.seriesTypes;o.bubble&&n("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:o.map.prototype.getMapData,getBox:o.map.prototype.getBox,setData:o.map.prototype.setData},{applyOptions:function(t,n){var a;return a=t&&void 0!==t.lat&&void 0!==t.lon?i.prototype.applyOptions.call(this,e(t,this.series.chart.fromLatLonToPoint(t)),n):o.map.prototype.pointClass.prototype.applyOptions.call(this,t,n)},ttBelow:!1})}(t),function(t){var e=t.colorPointMixin,i=t.colorSeriesMixin,n=t.each,o=t.LegendSymbolMixin,a=t.merge,s=t.noop,r=t.pick,l=t.Series,h=t.seriesType,p=t.seriesTypes;h("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}},a(i,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;p.scatter.prototype.init.apply(this,arguments),t=this.options,t.pointRange=r(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this,e=t.options,i=t.xAxis,o=t.yAxis,a=function(t,e,i){return Math.min(Math.max(e,t),i)};t.generatePoints(),n(t.points,function(t){var n=(e.colsize||1)/2,s=(e.rowsize||1)/2,r=a(Math.round(i.len-i.translate(t.x-n,0,1,0,1)),-i.len,2*i.len),l=a(Math.round(i.len-i.translate(t.x+n,0,1,0,1)),-i.len,2*i.len),h=a(Math.round(o.translate(t.y-s,0,1,0,1)),-o.len,2*o.len),p=a(Math.round(o.translate(t.y+s,0,1,0,1)),-o.len,2*o.len);t.plotX=t.clientX=(r+l)/2,t.plotY=(h+p)/2,t.shapeType="rect",t.shapeArgs={x:Math.min(r,l),y:Math.min(h,p),width:Math.abs(l-r),height:Math.abs(p-h)}}),t.translateColors()},drawPoints:function(){p.column.prototype.drawPoints.call(this),n(this.points,function(t){t.graphic.attr(this.colorAttribs(t))},this)},animate:s,getBox:s,drawLegendSymbol:o.drawRectangle,alignDataLabel:p.column.prototype.alignDataLabel,getExtremes:function(){l.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,l.prototype.getExtremes.call(this)}}),e)}(t),function(t){function e(t,e){var i,n,o,a,s=!1,r=t.x,l=t.y;for(i=0,n=e.length-1;i<e.length;n=i++)o=e[i][1]>l,a=e[n][1]>l,o!==a&&r<(e[n][0]-e[i][0])*(l-e[i][1])/(e[n][1]-e[i][1])+e[i][0]&&(s=!s);return s}var i=t.Chart,n=t.each,o=t.extend,a=t.format,s=t.merge,r=t.win,l=t.wrap;i.prototype.transformFromLatLon=function(e,i){if(void 0===r.proj4)return t.error(21),{x:0,y:null};var n=r.proj4(i.crs,[e.lon,e.lat]),o=i.cosAngle||i.rotation&&Math.cos(i.rotation),a=i.sinAngle||i.rotation&&Math.sin(i.rotation),s=i.rotation?[n[0]*o+n[1]*a,-n[0]*a+n[1]*o]:n;return{x:((s[0]-(i.xoffset||0))*(i.scale||1)+(i.xpan||0))*(i.jsonres||1)+(i.jsonmarginX||0),y:(((i.yoffset||0)-s[1])*(i.scale||1)+(i.ypan||0))*(i.jsonres||1)-(i.jsonmarginY||0)}},i.prototype.transformToLatLon=function(e,i){if(void 0===r.proj4)return void t.error(21);var n={x:((e.x-(i.jsonmarginX||0))/(i.jsonres||1)-(i.xpan||0))/(i.scale||1)+(i.xoffset||0),y:((-e.y-(i.jsonmarginY||0))/(i.jsonres||1)+(i.ypan||0))/(i.scale||1)+(i.yoffset||0)},o=i.cosAngle||i.rotation&&Math.cos(i.rotation),a=i.sinAngle||i.rotation&&Math.sin(i.rotation),s=r.proj4(i.crs,"WGS84",i.rotation?{x:n.x*o+n.y*-a,y:n.x*a+n.y*o}:n);return{lat:s.y,lon:s.x}},i.prototype.fromPointToLatLon=function(i){var n,o=this.mapTransforms;if(!o)return void t.error(22);for(n in o)if(o.hasOwnProperty(n)&&o[n].hitZone&&e({x:i.x,y:-i.y},o[n].hitZone.coordinates[0]))return this.transformToLatLon(i,o[n]);return this.transformToLatLon(i,o["default"])},i.prototype.fromLatLonToPoint=function(i){var n,o,a=this.mapTransforms;if(!a)return t.error(22),{x:0,y:null};for(n in a)if(a.hasOwnProperty(n)&&a[n].hitZone&&(o=this.transformFromLatLon(i,a[n]),e({x:o.x,y:-o.y},a[n].hitZone.coordinates[0])))return o;return this.transformFromLatLon(i,a["default"])},t.geojson=function(t,e,i){var s=[],r=[],l=function(t){var e,i=t.length;for(r.push("M"),e=0;e<i;e++)1===e&&r.push("L"),r.push(t[e][0],-t[e][1])};return e=e||"map",n(t.features,function(t){var i,a=t.geometry,h=a.type,p=a.coordinates,d=t.properties;r=[],"map"===e||"mapbubble"===e?("Polygon"===h?(n(p,l),r.push("Z")):"MultiPolygon"===h&&(n(p,function(t){n(t,l)}),r.push("Z")),r.length&&(i={path:r})):"mapline"===e?("LineString"===h?l(p):"MultiLineString"===h&&n(p,l),r.length&&(i={path:r})):"mappoint"===e&&"Point"===h&&(i={x:p[0],y:-p[1]}),i&&s.push(o(i,{name:d.name||d.NAME,properties:d}))}),i&&t.copyrightShort&&(i.chart.mapCredits=a(i.chart.options.credits.mapText,{geojson:t}),i.chart.mapCreditsFull=a(i.chart.options.credits.mapTextFull,{geojson:t})),s},l(i.prototype,"addCredits",function(t,e){e=s(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}(t),function(t){function e(t,e,i,n,o,a,s,r){return["M",t+o,e,"L",t+i-a,e,"C",t+i-a/2,e,t+i,e+a/2,t+i,e+a,"L",t+i,e+n-s,"C",t+i,e+n-s/2,t+i-s/2,e+n,t+i-s,e+n,"L",t+r,e+n,"C",t+r/2,e+n,t,e+n-r/2,t,e+n-r,"L",t,e+o,"C",t,e+o/2,t+o/2,e,t+o,e,"Z"]}var i=t.Chart,n=t.defaultOptions,o=t.each,a=t.extend,s=t.merge,r=t.pick,l=t.Renderer,h=t.SVGRenderer,p=t.VMLRenderer;a(n.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),n.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1},t.splitPath=function(t){var e;for(t=t.replace(/([A-Za-z])/g," $1 "),t=t.replace(/^\s*/,"").replace(/\s*$/,""),t=t.split(/[ ,]+/),e=0;e<t.length;e++)/[a-zA-Z]/.test(t[e])||(t[e]=parseFloat(t[e]));return t},t.maps={},h.prototype.symbols.topbutton=function(t,i,n,o,a){return e(t-1,i-1,n,o,a.r,a.r,0,0)},h.prototype.symbols.bottombutton=function(t,i,n,o,a){return e(t-1,i-1,n,o,0,0,a.r,a.r)},l===p&&o(["topbutton","bottombutton"],function(t){p.prototype.symbols[t]=h.prototype.symbols[t]}),t.Map=t.mapChart=function(e,n,o){var a,l="string"==typeof e||e.nodeName,h=arguments[l?1:0],p={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},d=t.getOptions().credits;return a=h.series,h.series=null,h=s({chart:{panning:"xy",type:"map"},credits:{mapText:r(d.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:r(d.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:p,yAxis:s(p,{reversed:!0})},h,{chart:{inverted:!1,alignTicks:!1}}),h.series=a,l?new i(e,h,o):new i(h,n)}}(t)}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){var e=t.defaultOptions,i=t.doc,n=t.Chart,o=t.addEvent,a=t.removeEvent,s=t.fireEvent,r=t.createElement,l=t.discardElement,h=t.css,p=t.merge,d=t.pick,c=t.each,u=t.objectEach,m=t.extend,g=t.isTouchDevice,f=t.win,x=f.navigator.userAgent,y=(t.SVGRenderer,t.Renderer.prototype.symbols);/Edge\/|Trident\/|MSIE /.test(x),/firefox/i.test(x);m(e.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),e.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},p(!0,e.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:g?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),e.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",
menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},t.post=function(t,e,n){var o=r("form",p({method:"post",action:t,enctype:"multipart/form-data"},n),{display:"none"},i.body);u(e,function(t,e){r("input",{type:"hidden",name:e,value:t},null,o)}),o.submit(),l(o)},m(n.prototype,{sanitizeSVG:function(t,e){if(e&&e.exporting&&e.exporting.allowHTML){var i=t.match(/<\/svg>(.*?$)/);i&&i[1]&&(i='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+i[1]+"</body></foreignObject>",t=t.replace("</svg>",i+"</svg>"))}return t=t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),t=t.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var n,o,a,s,h,d,u,g,f=this,x=p(f.options,e);return i.createElementNS||(i.createElementNS=function(t,e){return i.createElement(e)}),o=r("div",null,{position:"absolute",top:"-9999em",width:f.chartWidth+"px",height:f.chartHeight+"px"},i.body),u=f.renderTo.style.width,g=f.renderTo.style.height,h=x.exporting.sourceWidth||x.chart.width||/px$/.test(u)&&parseInt(u,10)||600,d=x.exporting.sourceHeight||x.chart.height||/px$/.test(g)&&parseInt(g,10)||400,m(x.chart,{animation:!1,renderTo:o,forExport:!0,renderer:"SVGRenderer",width:h,height:d}),x.exporting.enabled=!1,delete x.data,x.series=[],c(f.series,function(t){s=p(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),s.isInternal||x.series.push(s)}),c(f.axes,function(e){e.userOptions.internalKey||(e.userOptions.internalKey=t.uniqueKey())}),n=new t.Chart(x,f.callback),e&&c(["xAxis","yAxis","series"],function(t){var i={};e[t]&&(i[t]=e[t],n.update(i))}),c(f.axes,function(e){var i=t.find(n.axes,function(t){return t.options.internalKey===e.userOptions.internalKey}),o=e.getExtremes(),a=o.userMin,s=o.userMax;!i||void 0===a&&void 0===s||i.setExtremes(a,s,!0,!1)}),a=n.getChartHTML(),a=f.sanitizeSVG(a,x),x=null,n.destroy(),l(o),a},getSVGForExport:function(t,e){var i=this.options.exporting;return this.getSVG(p({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))},exportChart:function(e,i){var n=this.getSVGForExport(e,i);e=p(this.options.exporting,e),t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale,svg:n},e.formAttributes)},print:function(){var t,e,n=this,o=n.container,a=[],r=o.parentNode,l=i.body,h=l.childNodes,p=n.options.exporting.printMaxWidth;n.isPrinting||(n.isPrinting=!0,n.pointer.reset(null,0),s(n,"beforePrint"),e=p&&n.chartWidth>p,e&&(t=[n.options.chart.width,void 0,!1],n.setSize(p,void 0,!1)),c(h,function(t,e){1===t.nodeType&&(a[e]=t.style.display,t.style.display="none")}),l.appendChild(o),f.focus(),f.print(),setTimeout(function(){r.appendChild(o),c(h,function(t,e){1===t.nodeType&&(t.style.display=a[e])}),n.isPrinting=!1,e&&n.setSize.apply(n,t),s(n,"afterPrint")},1e3))},contextMenu:function(e,n,a,s,l,p,d){var u,g,f,x=this,y=x.options.navigation,v=x.chartWidth,b=x.chartHeight,M="cache-"+e,w=x[M],C=Math.max(l,p);w||(x[M]=w=r("div",{className:e},{position:"absolute",zIndex:1e3,padding:C+"px"},x.container),u=r("div",{className:"highcharts-menu"},null,w),h(u,m({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},y.menuStyle)),g=function(){h(w,{display:"none"}),d&&d.setState(0),x.openMenu=!1},x.exportEvents.push(o(w,"mouseleave",function(){w.hideTimer=setTimeout(g,500)}),o(w,"mouseenter",function(){clearTimeout(w.hideTimer)}),o(i,"mouseup",function(t){x.pointer.inClass(t.target,e)||g()})),c(n,function(e){if("string"==typeof e&&(e=x.options.exporting.menuItemDefinitions[e]),t.isObject(e,!0)){var i;e.separator?i=r("hr",null,null,u):(i=r("div",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),g(),e.onclick&&e.onclick.apply(x,arguments)},innerHTML:e.text||x.options.lang[e.textKey]},null,u),i.onmouseover=function(){h(this,y.menuItemHoverStyle)},i.onmouseout=function(){h(this,y.menuItemStyle)},h(i,m({cursor:"pointer"},y.menuItemStyle))),x.exportDivElements.push(i)}}),x.exportDivElements.push(u,w),x.exportMenuWidth=w.offsetWidth,x.exportMenuHeight=w.offsetHeight),f={display:"block"},a+x.exportMenuWidth>v?f.right=v-a-l-C+"px":f.left=a-C+"px",s+p+x.exportMenuHeight>b&&"top"!==d.alignOptions.verticalAlign?f.bottom=b-s-C+"px":f.top=s+p-C+"px",h(w,f),x.openMenu=!0},addButton:function(t){var e,i,n=this,o=n.renderer,a=p(n.options.navigation.buttonOptions,t),s=a.onclick,r=a.menuItems,l=a.symbolSize||12;if(n.btnCount||(n.btnCount=0),n.exportDivElements||(n.exportDivElements=[],n.exportSVGElements=[]),a.enabled!==!1){var h,c=a.theme,u=c.states,g=u&&u.hover,f=u&&u.select;delete c.states,s?h=function(t){t.stopPropagation(),s.call(n,t)}:r&&(h=function(){n.contextMenu(i.menuClassName,r,i.translateX,i.translateY,i.width,i.height,i),i.setState(2)}),a.text&&a.symbol?c.paddingLeft=d(c.paddingLeft,25):a.text||m(c,{width:a.width,height:a.height,padding:0}),i=o.button(a.text,0,0,h,c,g,f).addClass(t.className).attr({"stroke-linecap":"round",title:n.options.lang[a._titleKey],zIndex:3}),i.menuClassName=t.menuClassName||"highcharts-menu-"+n.btnCount++,a.symbol&&(e=o.symbol(a.symbol,a.symbolX-l/2,a.symbolY-l/2,l,l).addClass("highcharts-button-symbol").attr({zIndex:1}).add(i),e.attr({stroke:a.symbolStroke,fill:a.symbolFill,"stroke-width":a.symbolStrokeWidth||1})),i.add().align(m(a,{width:i.width,x:d(a.x,n.buttonOffset)}),!0,"spacingBox"),n.buttonOffset+=(i.width+a.buttonSpacing)*("right"===a.align?-1:1),n.exportSVGElements.push(i,e)}},destroyExport:function(t){var e,i=t?t.target:this,n=i.exportSVGElements,o=i.exportDivElements,s=i.exportEvents;n&&(c(n,function(t,n){t&&(t.onclick=t.ontouchstart=null,e="cache-"+t.menuClassName,i[e]&&delete i[e],i.exportSVGElements[n]=t.destroy())}),n.length=0),o&&(c(o,function(t,e){clearTimeout(t.hideTimer),a(t,"mouseleave"),i.exportDivElements[e]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,l(t)}),o.length=0),s&&(c(s,function(t){t()}),s.length=0)}}),y.menu=function(t,e,i,n){var o=["M",t,e+2.5,"L",t+i,e+2.5,"M",t,e+n/2+.5,"L",t+i,e+n/2+.5,"M",t,e+n-1.5,"L",t+i,e+n-1.5];return o},n.prototype.renderExporting=function(){var t=this,e=t.options.exporting,i=e.buttons,n=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),n&&e.enabled!==!1&&(t.exportEvents=[],u(i,function(e){t.addButton(e)}),t.isDirtyExporting=!1),o(t,"destroy",t.destroyExport)},n.prototype.callbacks.push(function(t){function e(e,i,n){t.isDirtyExporting=!0,p(!0,t.options[e],i),d(n,!0)&&t.redraw()}t.renderExporting(),o(t,"redraw",t.renderExporting),c(["exporting","navigation"],function(i){t[i]={update:function(t,n){e(i,t,n)}}})})}(t)}),$.fn.makeHmap=function(){var t={chart:{marginBottom:80,height:550,spacingBottom:90},title:{useHTML:!0,margin:15,text:"",style:{color:"#000000",fontFamily:'"RO Sans", Verdana, sans-serif',fontWeight:"bold",fontSize:"1.1em"}},subtitle:{useHTML:!0,text:"",style:{color:"#535353",fontFamily:'"RO Sans", Verdana, sans-serif',fontWeight:"bold",fontSize:"0.9em"}},legend:{enabled:!0,y:60,x:-20,align:"center",verticalAlign:"bottom"},tooltip:{useHTML:!0,headerFormat:"",pointFormat:'<div class="innerTooltip"><b>{point.areaDescr}: {point.fullvalue}</b></div>',style:{color:"#000000",fontFamily:'"RO Sans", Verdana, sans-serif',fontSize:"0.8em"},backgroundColor:"rgba(255,255,255, 1)",padding:8,valueDecimals:0},navigation:{buttonOptions:{enabled:!1}},mapNavigation:{enabled:!0,enableDoubleClickZoomTo:!1,enableDoubleClickZoom:!1,buttonOptions:{theme:{fill:"#f3f3f3","stroke-width":1,stroke:"#ffffff",states:{hover:{fill:"#e6e6e6",stroke:"#ffffff"},select:{fill:"#f3f3f3"}}},verticalAlign:"bottom"},enableMouseWheelZoom:!1},colorAxis:{min:1,max:6e3,minColor:"#e1e1e1",maxColor:"#333333",gridLineWidth:0,labels:{enabled:!0,formatter:function(){return this.isFirst?this.value+1+" "+this.chart.options.axisSuffix:this.value+" "+this.chart.options.axisSuffix},style:{color:"#333333",fontFamily:'"ROSans", Verdana, sans-serif',fontSize:"0.9em"}},tickPositions:[1,3e3]},xAxis:{minPadding:.05,maxPadding:.05},yAxis:{minPadding:.05,maxPadding:.05},plotOptions:{series:{states:{hover:{color:"#e1e1e1"}},joinBy:"hc-key"},map:{nullColor:"#ffffff"}},credits:{enabled:!0,href:"",text:"",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{color:"#535353",fontFamily:'"RO Sans", Verdana, sans-serif',fontWeight:"normal",fontSize:"1.08333em",cursor:"pointer"}},series:[{data:""}],axisSuffix:"",map:""},e=$.extend({},t);return this.each(function(){function t(){h.settings=e,h.dataSets=h.find(".dataSet"),h.toggleOptionsContainer=h.find(".collapsiblePanels");var t=h.data("mappath");$.getJSON(t,function(t){h.map=t,i(),n(),a(h.dataSets[0])})}function i(){$("<div/>",{"class":"mapAreaDark"}).appendTo(h),$("<div/>",{"class":"mapAreaLight"}).appendTo(h),$("<div/>",{"class":"mapAreaHover"}).appendTo(h);var t=$(".mapAreaDark").css("color"),e=$(".mapAreaLight").css("color"),i=$(".mapAreaHover").css("color");h.settings.colorAxis.maxColor=t,h.settings.colorAxis.minColor=e,h.settings.plotOptions.series.states.hover.color=i,$(".mapAreaDark").remove(),$(".mapAreaLight").remove(),$(".mapAreaHover").remove()}function n(){h.mapFigureContainer=$("<div/>",{"class":"thematicmap","aria-hidden":"true"}).prependTo(h);var t=h.find(".mapOptions");$("<div/>",{"class":"descriptionText"}).prependTo(t);var e=h.find(".table").parent(".panel"),i=e.find(".panelContent").attr("id");if($("<button/>",{html:h.data("tableheadertxt"),"aria-controls":i}).prependTo(e),h.find(".dataSet:eq(0)").addClass("current"),h.find(".dataSet .description").hide(),h.dataSets.length>1){var n="panelDataset"+(new Date).getTime().toString(36),a=$("<div/>",{"class":"panel",html:'<button aria-controls="'+n+'">'+h.data("segmentheadertxt")+"</button>"}).prependTo(h.toggleOptionsContainer),r=$("<div/>",{role:"region","aria-expanded":"true","aria-hidden":"false","class":"panelContent segments",id:n,tabindex:"-1"}).appendTo(a),l=$("<ul/>").appendTo(r);h.dataSets.each(function(){$("<li/>",{html:'<a href="#" class="loadDataSet">'+$(this).find(".title").html()+"</a></h2>"}).appendTo(l)}),l.find("li:eq(0) a").addClass("current")}var p="panelDownload"+(new Date).getTime().toString(36),d=$("<div/>",{"class":"panel",html:'<button aria-controls="'+p+'">'+h.data("downloadheadertxt")+"</button>"}).appendTo(h.toggleOptionsContainer),c=$("<div/>",{"aria-role":"region","aria-expanded":"true","aria-hidden":"false","class":"panelContent downloads",id:p,tabindex:"-1"}).appendTo(d),u=$("<ul/>").appendTo(c);"export"===h.data("export")&&h.dataSets.each(function(){$("<li/>",{html:'<a href="#" class="exportChart png">'+h.data("downloadtxt")+" png</a>"}).appendTo(u)}),u.find("li:eq(0)").addClass("current");var m="metaDownload"+(new Date).getTime().toString(36),g=$("<div/>",{"class":"panel metaPanel",html:'<button aria-controls="'+m+'"></button>'}).appendTo(h.toggleOptionsContainer);$("<div/>",{"aria-role":"region","aria-expanded":"true","aria-hidden":"false","class":"panelContent metadatatoggle",id:m,tabindex:"-1"}).appendTo(g);h.find(".collapsiblePanels").createCollapsePanels(),o(),s()}function o(){if(h.attr("data-opentabs"))for(var t=h.attr("data-opentabs").replace(/\s/g,"").split(","),e=0;e<t.length;e++)h.toggleOptionsContainer.find("."+t[e]).parent(".panel").removeClass("closed").addClass("open")}function a(t){h.settings.plotOptions.series.mapData=h.map;var e=$(t);if(e.find(".title").length>0?h.settings.title.text=r(e.find(".title").html()):h.settings.title.text="",e.find(".subtitle").length>0?h.settings.subtitle.text=r(e.find(".subtitle").html()):h.settings.subtitle.text="",e.find(".source").length>0?h.settings.credits.text=r(e.find(".source").html()):h.settings.credits.text="",e.find(".description").length>0?h.settings.descriptionTxt=r(e.find(".description").html()):h.settings.descriptionTxt="",e.find(".downloadDataset").length>0){var i=h.toggleOptionsContainer.find(".panelContent.downloads ul");i.find(".panelDownloadLink").remove();var n=e.find(".downloadDataset");i.append('<li class="panelDownloadLink"><a href="'+n.attr("href")+'">'+n.html()+"</a></li>")}else h.toggleOptionsContainer.find(".panelDownloadLink").remove();e.find(".metadata").length>0?(h.settings.metadata=e.find(".metadata"),h.settings.metaHeader=r(h.settings.metadata.attr("data-metaheader")),h.settings.metaBody=r(h.settings.metadata.html()),h.toggleOptionsContainer.find(".metaPanel button").html(h.settings.metaHeader),h.toggleOptionsContainer.find(".metadatatoggle").html(h.settings.metaBody),h.toggleOptionsContainer.find(".metaPanel").css({display:"inline-block"})):(h.toggleOptionsContainer.find(".metaPanel button").html(""),h.toggleOptionsContainer.find(".metadatatoggle").html(""),h.toggleOptionsContainer.find(".metaPanel").css({display:"none"}),h.settings.metaHeader="",h.settings.metaBody=""),h.find(".descriptionText").html(h.settings.descriptionTxt);var o=[],a=e.find("table:first"),s=a.find("tbody"),p=0,d=1e5;h.settings.axisSuffix="",h.settings.plotOptions.series.joinBy=h.data("key")||"hc-key",s.find("tr").each(function(){var t=$(this).find("th").data("fieldid"),e=$(this).find("th").html(),i=$(this).find("td").html(),n=i.replace(/[^0-9$.,-]/g,""),a=n.replace(/[,]/g,".");""===a&&(a=null),parseInt(a)>parseInt(p)&&(p=parseInt(a)),parseInt(a)<parseInt(d)&&(d=parseInt(a)),h.settings.colorAxis.min=d,h.settings.colorAxis.max=p,h.settings.colorAxis.tickPositions=[d-1,p];var s={};s[h.settings.plotOptions.series.joinBy]=t,s.areaDescr=e,s.value=a,s.fullvalue=$(this).find("td").html(),o.push(s);var r="",l="",c="",u=i.match("([0-9])","g");u&&(l=i.indexOf(u[0]));var m=i.match("([^0-9., ])","g");m&&(c=i.indexOf(m[0])),l<c&&i.substring(c,i.length)&&(r=i.substring(c,i.length)),""!==r&&(h.settings.axisSuffix=r)});var c=[];c.push({data:o}),h.settings.series=c,l()}function s(){h.find(".loadDataSet").click(function(t){t.preventDefault();var e=$(this).parent("li").index();$(this).parents("ul").find(".current").removeClass("current"),$(this).addClass("current"),h.find(".dataSet.current").removeClass("current"),h.find(".dataSet:eq("+e+")").addClass("current"),h.find(".downloads li.current").removeClass("current"),h.find(".downloads li:eq("+e+")").addClass("current"),a(h.dataSets[e])}),h.find(".exportChart").click(function(t){if(t.preventDefault(),$(this).hasClass("png")){var e=h.mapFigureContainer.highcharts(),i=e.options.title.text.toLowerCase().replace(/ /g,"-");e.exportChart({type:"image/png",filename:i,scale:1.5,sourceWidth:900,url:"//export.highcharts.com/"})}else window.open($(this).attr("href"),"Download")})}function r(t){return t.replace("&amp;","&")}function l(){h.mapFigureContainer.highcharts("Map",h.settings)}var h=$(this);t()})},$(".hmap").makeHmap();