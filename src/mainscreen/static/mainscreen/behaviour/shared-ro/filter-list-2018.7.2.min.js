function filterTopicCount(e,t,n){var r=[];t.find("li:visible").each(function(){var e=$(this).find("a").attr("href");$.inArray(e,r)<0&&r.push(e)});var i=r.length,s=n.data("single")||"",o=n.data("plural")||"";t.parent("#content").find(".summary").hasClass("contacts")?i===1?e.html("<span>1</span> "+s):e.html("<span>"+i+"</span> "+o):i===1?e.html("<span>1</span> "+s):e.html("<span>"+i+"</span> "+o)}function listFilter(e){function s(){e.find(".three-columns").show(),e.find("li").show(),filterTopicCount(t,e,i)}var t=e.parent("#content").find(".summary h2"),n=e.parent("#content").find(".searchList"),r=e.parent("#content").find(".clearField"),i=n.parents("form");filterTopicCount(t,e,i),n.change(function(){var n=$(this).val();n&&e.find(".three-columns").each(function(){var e=$(this);e.find("li.filtered").remove();var t=e.find("a:Contains("+n+")").parent("li"),r=t.length,i=3,s=Math.ceil(r/i);e.find("ul li").hide();var o=0,u=0,a=0;$.each(t,function(t,n){o>=s&&(o=0,u++,i-=1,s=Math.ceil((r-a)/i)),e.find("ul:eq("+u+")").append('<li class="filtered">'+$(this).html()+"</li>"),e.find("li.filtered").show(),a++,o++}),t.length===0?e.hide():e.show()}),filterTopicCount(t,e,i)}),n.keyup(function(){$(this).change()}),r.on("click",function(){s()})}$("#source-list").length>0&&listFilter($("#source-list")),$.expr[":"].Contains=function(e,t,n){return(e.textContent||e.innerText||"").toUpperCase().indexOf(n[3].toUpperCase())>=0},$('.formWrapper:not(:has(div > input[type="submit"]))').addClass("bottomSpace")
