"use strict";(function(e){typeof module=="object"&&module.exports?module.exports=e:e(Highcharts)})(function(e){(function(e){var t=e.Axis,n=e.each,r=e.pick,i=e.wrap;i(t.prototype,"getSeriesExtremes",function(e){var t=this.isXAxis,i,s,o=[],u;t&&n(this.series,function(e,t){e.useMapGeometry&&(o[t]=e.xData,e.xData=[])}),e.call(this),t&&(i=r(this.dataMin,Number.MAX_VALUE),s=r(this.dataMax,-Number.MAX_VALUE),n(this.series,function(e,t){e.useMapGeometry&&(i=Math.min(i,r(e.minX,i)),s=Math.max(s,r(e.maxX,s)),e.xData=o[t],u=!0)}),u&&(this.dataMin=i,this.dataMax=s))}),i(t.prototype,"setAxisTranslation",function(e){var t=this.chart,r,i=t.plotWidth/t.plotHeight,s,o=t.xAxis[0],u,a,f,l;e.call(this),this.coll==="yAxis"&&o.transA!==undefined&&n(this.series,function(e){e.preserveAspectRatio&&(l=!0)});if(l){this.transA=o.transA=Math.min(this.transA,o.transA),r=i/((o.max-o.min)/(this.max-this.min)),u=r<1?this:o,s=(u.max-u.min)*u.transA,u.pixelPadding=u.len-s,u.minPixelPadding=u.pixelPadding/2,a=u.fixTo;if(a){f=a[1]-u.toValue(a[0],!0),f*=u.transA;if(Math.abs(f)>u.minPixelPadding||u.min===u.dataMin&&u.max===u.dataMax)f=0;u.minPixelPadding-=f}}}),i(t.prototype,"render",function(e){e.call(this),this.fixTo=null})})(e),function(e){var t=e.Axis,n=e.Chart,r=e.color,i,s=e.each,o=e.extend,u=e.isNumber,a=e.Legend,f=e.LegendSymbolMixin,l=e.noop,c=e.merge,h=e.pick,p=e.wrap;i=e.ColorAxis=function(){this.init.apply(this,arguments)},o(i.prototype,t.prototype),o(i.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(t.prototype.keepProps),init:function(e,n){var r=e.options.legend.layout!=="vertical",i;this.coll="colorAxis",i=c(this.defaultColorAxisOptions,{side:r?2:1,reversed:!r},n,{opposite:!r,showEmpty:!1,title:null}),t.prototype.init.call(this,e,i),n.dataClasses&&this.initDataClasses(n),this.initStops(),this.horiz=r,this.zoomEnabled=!1,this.defaultLegendLength=200},initDataClasses:function(e){var t=this.chart,n,i=0,o=t.options.chart.colorCount,u=this.options,a=e.dataClasses.length;this.dataClasses=n=[],this.legendItems=[],s(e.dataClasses,function(e,s){var f;e=c(e),n.push(e);if(e.color)return;u.dataClassColor==="category"?(f=t.options.colors,o=f.length,e.color=f[i],e.colorIndex=i,i++,i===o&&(i=0)):e.color=r(u.minColor).tweenTo(r(u.maxColor),a<2?.5:s/(a-1))})},setTickPositions:function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],s(this.stops,function(e){e.color=r(e[1])})},setOptions:function(e){t.prototype.setOptions.call(this,e),this.options.crosshair=this.options.marker},setAxisSize:function(){var e=this.legendSymbol,t=this.chart,n=t.options.legend||{},r,i,s,o;e?(this.left=r=e.attr("x"),this.top=i=e.attr("y"),this.width=s=e.attr("width"),this.height=o=e.attr("height"),this.right=t.chartWidth-r-s,this.bottom=t.chartHeight-i-o,this.len=this.horiz?s:o,this.pos=this.horiz?r:i):this.len=(this.horiz?n.symbolWidth:n.symbolHeight)||this.defaultLegendLength},normalizedValue:function(e){return this.isLog&&(e=this.val2lin(e)),1-(this.max-e)/(this.max-this.min||1)},toColor:function(e,t){var n,r=this.stops,i,s,o,u=this.dataClasses,a,f;if(u){f=u.length;while(f--){a=u[f],i=a.from,s=a.to;if((i===undefined||e>=i)&&(s===undefined||e<=s)){o=a.color,t&&(t.dataClass=f,t.colorIndex=a.colorIndex);break}}}else{n=this.normalizedValue(e),f=r.length;while(f--)if(n>r[f][0])break;i=r[f]||r[f+1],s=r[f+1]||i,n=1-(s[0]-n)/(s[0]-i[0]||1),o=i.color.tweenTo(s.color,n)}return o},getOffset:function(){var e=this.legendGroup,n=this.chart.axisOffset[this.side];e&&(this.axisParent=e,t.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=n)},setLegendColor:function(){var e,t=this.horiz,n=this.reversed,r=n?1:0,i=n?0:1;e=t?[r,0,i,0]:[0,i,0,r],this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:this.stops}},drawLegendSymbol:function(e,t){var n=e.padding,r=e.options,i=this.horiz,s=h(r.symbolWidth,i?this.defaultLegendLength:12),o=h(r.symbolHeight,i?12:this.defaultLegendLength),u=h(r.labelPadding,i?16:30),a=h(r.itemDistance,10);this.setLegendColor(),t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,s,o).attr({zIndex:1}).add(t.legendGroup),this.legendItemWidth=s+n+(i?a:u),this.legendItemHeight=o+n+(i?u:0)},setState:l,visible:!0,setVisible:l,getSeriesExtremes:function(){var e=this.series,t=e.length;this.dataMin=Infinity,this.dataMax=-Infinity;while(t--)e[t].valueMin!==undefined&&(this.dataMin=Math.min(this.dataMin,e[t].valueMin),this.dataMax=Math.max(this.dataMax,e[t].valueMax))},drawCrosshair:function(e,n){var r=n&&n.plotX,i=n&&n.plotY,s,o=this.pos,u=this.len;n&&(s=this.toPixels(n[n.series.colorKey]),s<o?s=o-2:s>o+u&&(s=o+u+2),n.plotX=s,n.plotY=this.len-s,t.prototype.drawCrosshair.call(this,e,n),n.plotX=r,n.plotY=i,this.cross&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(e,n,r,i,s){return u(s)?this.horiz?["M",s-4,this.top-6,"L",s+4,this.top-6,s,this.top,"Z"]:["M",this.left,s,"L",this.left-6,s+6,this.left-6,s-6,"Z"]:t.prototype.getPlotLinePath.call(this,e,n,r,i)},update:function(e,n){var r=this.chart,i=r.legend;s(this.series,function(e){e.isDirtyData=!0}),e.dataClasses&&i.allItems&&(s(i.allItems,function(e){e.isDataClass&&e.legendGroup&&e.legendGroup.destroy()}),r.isDirtyLegend=!0),r.options[this.coll]=c(this.userOptions,e),t.prototype.update.call(this,e,n),this.legendItem&&(this.setLegendColor(),i.colorizeItem(this,!0))},remove:function(){this.legendItem&&this.chart.legend.destroyItem(this),t.prototype.remove.call(this)},getDataClassLegendSymbols:function(){var t=this,n=this.chart,r=this.legendItems,i=n.options.legend,u=i.valueDecimals,a=i.valueSuffix||"",c;return r.length||s(this.dataClasses,function(i,h){var p=!0,d=i.from,v=i.to;c="",d===undefined?c="< ":v===undefined&&(c="> "),d!==undefined&&(c+=e.numberFormat(d,u)+a),d!==undefined&&v!==undefined&&(c+=" - "),v!==undefined&&(c+=e.numberFormat(v,u)+a),r.push(o({chart:n,name:c,options:{},drawLegendSymbol:f.drawRectangle,visible:!0,setState:l,isDataClass:!0,setVisible:function(){p=this.visible=!p,s(t.series,function(e){s(e.points,function(e){e.dataClass===h&&e.setVisible(p)})}),n.legend.colorizeItem(this,p)}},i))}),r},name:""}),s(["fill","stroke"],function(t){e.Fx.prototype[t+"Setter"]=function(){this.elem.attr(t,r(this.start).tweenTo(r(this.end),this.pos),null,!0)}}),p(n.prototype,"getAxes",function(e){var t=this.options,n=t.colorAxis;e.call(this),this.colorAxis=[],n&&new i(this,n)}),p(a.prototype,"getAllItems",function(e){var t=[],n=this.chart.colorAxis[0];return n&&n.options&&(n.options.showInLegend&&(n.options.dataClasses?t=t.concat(n.getDataClassLegendSymbols()):t.push(n)),s(n.series,function(e){e.options.showInLegend=!1})),t.concat(e.call(this))}),p(a.prototype,"colorizeItem",function(e,t,n){e.call(this,t,n),n&&t.legendColor&&t.legendSymbol.attr({fill:t.legendColor})}),p(a.prototype,"update",function(e){e.apply(this,[].slice.call(arguments,1)),this.chart.colorAxis[0]&&this.chart.colorAxis[0].update({},arguments[2])})}(e),function(e){var t=e.defined,n=e.each,r=e.noop,i=e.seriesTypes;e.colorPointMixin={isValid:function(){return this.value!==null},setVisible:function(e){var t=this,r=e?"show":"hide";n(["graphic","dataLabel"],function(e){t[e]&&t[e][r]()})},setState:function(t){e.Point.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:t==="hover"?1:0})}},e.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:r,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:i.column.prototype.pointAttribs,translateColors:function(){var e=this,t=this.options.nullColor,r=this.colorAxis,i=this.colorKey;n(this.data,function(n){var s=n[i],o;o=n.options.color||(n.isNull?t:r&&s!==undefined?r.toColor(s,n):n.color||e.color),o&&(n.color=o)})},colorAttribs:function(e){var n={};return t(e.color)&&(n[this.colorProp||"fill"]=e.color),n}}}(e),function(e){function f(e){e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)}function l(e){this.init(e)}var t=e.addEvent,n=e.Chart,r=e.doc,i=e.each,s=e.extend,o=e.merge,u=e.pick,a=e.wrap;l.prototype.init=function(e){this.chart=e,e.mapNavButtons=[]},l.prototype.update=function(n){var r=this.chart,i=r.options.mapNavigation,a,l,c,h,p,d=function(e){this.handler.call(r,e),f(e)},v=r.mapNavButtons;n&&(i=r.options.mapNavigation=o(r.options.mapNavigation,n));while(v.length)v.pop().destroy();u(i.enableButtons,i.enabled)&&!r.renderer.forExport&&e.objectEach(i.buttons,function(e,n){a=o(i.buttonOptions,e),l=a.theme,l.style=o(a.theme.style,a.style),c=l.states,h=c&&c.hover,p=c&&c.select,e=r.renderer.button(a.text,0,0,d,l,h,p,0,n==="zoomIn"?"topbutton":"bottombutton").addClass("highcharts-map-navigation").attr({width:a.width,height:a.height,title:r.options.lang[n],padding:a.padding,zIndex:5}).add(),e.handler=a.onclick,e.align(s(a,{width:e.width,height:2*e.height}),null,a.alignTo),t(e.element,"dblclick",f),v.push(e)}),this.updateEvents(i)},l.prototype.updateEvents=function(e){var n=this.chart;u(e.enableDoubleClickZoom,e.enabled)||e.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||t(n.container,"dblclick",function(e){n.pointer.onContainerDblClick(e)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),u(e.enableMouseWheelZoom,e.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||t(n.container,r.onmousewheel===undefined?"DOMMouseScroll":"mousewheel",function(e){return n.pointer.onContainerMouseWheel(e),f(e),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},s(n.prototype,{fitToBox:function(e,t){return i([["x","width"],["y","height"]],function(n){var r=n[0],i=n[1];e[r]+e[i]>t[r]+t[i]&&(e[i]>t[i]?(e[i]=t[i],e[r]=t[r]):e[r]=t[r]+t[i]-e[i]),e[i]>t[i]&&(e[i]=t[i]),e[r]<t[r]&&(e[r]=t[r])}),e},mapZoom:function(e,t,n,r,i){var s=this,o=s.xAxis[0],a=o.max-o.min,f=u(t,o.min+a/2),l=a*e,c=s.yAxis[0],h=c.max-c.min,p=u(n,c.min+h/2),d=h*e,v=r?(r-o.pos)/o.len:.5,m=i?(i-c.pos)/c.len:.5,g=f-l*v,y=p-d*m,b=s.fitToBox({x:g,y:y,width:l,height:d},{x:o.dataMin,y:c.dataMin,width:o.dataMax-o.dataMin,height:c.dataMax-c.dataMin}),w=b.x<=o.dataMin&&b.width>=o.dataMax-o.dataMin&&b.y<=c.dataMin&&b.height>=c.dataMax-c.dataMin;r&&(o.fixTo=[r-o.pos,t]),i&&(c.fixTo=[i-c.pos,n]),e!==undefined&&!w?(o.setExtremes(b.x,b.x+b.width,!1),c.setExtremes(b.y,b.y+b.height,!1)):(o.setExtremes(undefined,undefined,!1),c.setExtremes(undefined,undefined,!1)),s.redraw()}}),a(n.prototype,"render",function(e){this.mapNavigation=new l(this),this.mapNavigation.update(),e.call(this)})}(e),function(e){var t=e.extend,n=e.pick,r=e.Pointer,i=e.wrap;t(r.prototype,{onContainerDblClick:function(e){var t=this.chart;e=this.normalize(e),t.options.mapNavigation.enableDoubleClickZoomTo?t.pointer.inClass(e.target,"highcharts-tracker")&&t.hoverPoint&&t.hoverPoint.zoomTo():t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&t.mapZoom(.5,t.xAxis[0].toValue(e.chartX),t.yAxis[0].toValue(e.chartY),e.chartX,e.chartY)},onContainerMouseWheel:function(e){var t=this.chart,n;e=this.normalize(e),n=e.detail||-(e.wheelDelta/120),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&t.mapZoom(Math.pow(t.options.mapNavigation.mouseWheelSensitivity,n),t.xAxis[0].toValue(e.chartX),t.yAxis[0].toValue(e.chartY),e.chartX,e.chartY)}}),i(r.prototype,"zoomOption",function(e){var t=this.chart.options.mapNavigation;n(t.enableTouchZoom,t.enabled)&&(this.chart.options.chart.pinchType="xy"),e.apply(this,[].slice.call(arguments,1))}),i(r.prototype,"pinchTranslate",function(e,t,n,r,i,s,o){var u;e.call(this,t,n,r,i,s,o),this.chart.options.chart.type==="map"&&this.hasZoom&&(u=r.scaleX>r.scaleY,this.pinchTranslateDirection(!u,t,n,r,i,s,o,u?r.scaleX:r.scaleY))})}(e),function(e){var t=e.colorPointMixin,n=e.colorSeriesMixin,r=e.doc,i=e.each,s=e.extend,o=e.isNumber,u=e.LegendSymbolMixin,a=e.map,f=e.merge,l=e.noop,c=e.pick,h=e.isArray,p=e.Point,d=e.Series,v=e.seriesType,m=e.seriesTypes,g=e.splat,y=r.documentElement.style.vectorEffect!==undefined;v("map","scatter",{allAreas:!0,animation:!1,nullColor:"#f7f7f7",borderColor:"#cccccc",borderWidth:1,marker:null,stickyTracking:!1,joinBy:"hc-key",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null},select:{color:"#cccccc"}}},f(n,{type:"map",getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:l,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],getBox:function(t){var n=Number.MAX_VALUE,r=-n,s=n,u=-n,a=n,f=n,l=this.xAxis,h=this.yAxis,p;i(t||[],function(t){if(t.path){typeof t.path=="string"&&(t.path=e.splitPath(t.path));var i=t.path||[],l=i.length,h=!1,d=-n,v=n,m=-n,g=n,y=t.properties;if(!t._foundBox){while(l--)o(i[l])&&(h?(d=Math.max(d,i[l]),v=Math.min(v,i[l])):(m=Math.max(m,i[l]),g=Math.min(g,i[l])),h=!h);t._midX=v+(d-v)*c(t.middleX,y&&y["hc-middle-x"],.5),t._midY=g+(m-g)*c(t.middleY,y&&y["hc-middle-y"],.5),t._maxX=d,t._minX=v,t._maxY=m,t._minY=g,t.labelrank=c(t.labelrank,(d-v)*(m-g)),t._foundBox=!0}r=Math.max(r,t._maxX),s=Math.min(s,t._minX),u=Math.max(u,t._maxY),a=Math.min(a,t._minY),f=Math.min(t._maxX-t._minX,t._maxY-t._minY,f),p=!0}}),p&&(this.minY=Math.min(a,c(this.minY,n)),this.maxY=Math.max(u,c(this.maxY,-n)),this.minX=Math.min(s,c(this.minX,n)),this.maxX=Math.max(r,c(this.maxX,-n)),l&&l.options.minRange===undefined&&(l.minRange=Math.min(5*f,(this.maxX-this.minX)/5,l.minRange||n)),h&&h.options.minRange===undefined&&(h.minRange=Math.min(5*f,(this.maxY-this.minY)/5,h.minRange||n)))},getExtremes:function(){d.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(e){var t=this,n=!1,r=t.xAxis,i=t.yAxis,s=r.min,u=r.transA,a=r.minPixelPadding,f=i.min,l=i.transA,c=i.minPixelPadding,h,p=[];if(e){h=e.length;while(h--)o(e[h])?(p[h]=n?(e[h]-s)*u+a:(e[h]-f)*l+c,n=!n):p[h]=e[h]}return p},setData:function(t,n,r,s){var u=this.options,l=this.chart.options.chart,c=l&&l.map,p=u.mapData,v=u.joinBy,m=v===null,y=u.keys||this.pointArrayMap,b=[],w={},E,S=this.chart.mapTransforms,x,T;!p&&c&&(p=typeof c=="string"?e.maps[c]:c),m&&(v="_i"),v=this.joinBy=g(v),v[1]||(v[1]=v[0]),t&&i(t,function(e,n){var r=0;if(o(e))t[n]={value:e};else if(h(e)){t[n]={},!u.keys&&e.length>y.length&&typeof e[0]=="string"&&(t[n]["hc-key"]=e[0],++r);for(var i=0;i<y.length;++i,++r)y[i]&&(t[n][y[i]]=e[r])}m&&(t[n]._i=n)}),this.getBox(t),this.chart.mapTransforms=S=l&&l.mapTransforms||p&&p["hc-transform"]||S,S&&e.objectEach(S,function(e){e.rotation&&(e.cosAngle=Math.cos(e.rotation),e.sinAngle=Math.sin(e.rotation))});if(p){p.type==="FeatureCollection"&&(this.mapTitle=p.title,p=e.geojson(p,this.type,this)),this.mapData=p,this.mapMap={};for(T=0;T<p.length;T++)E=p[T],x=E.properties,E._i=T,v[0]&&x&&x[v[0]]&&(E[v[0]]=x[v[0]]),w[E[v[0]]]=E;this.mapMap=w,t&&v[1]&&i(t,function(e){w[e[v[1]]]&&b.push(w[e[v[1]]])}),u.allAreas?(this.getBox(p),t=t||[],v[1]&&i(t,function(e){b.push(e[v[1]])}),b="|"+a(b,function(e){return e&&e[v[0]]}).join("|")+"|",i(p,function(e){if(!v[0]||b.indexOf("|"+e[v[0]]+"|")===-1)t.push(f(e,{value:null})),s=!1})):this.getBox(b)}d.prototype.setData.call(this,t,n,r,s)},drawGraph:l,drawDataLabels:l,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var e=this,t=e.xAxis,n=e.yAxis,r=e.doFullTranslate();e.generatePoints(),i(e.data,function(i){i.plotX=t.toPixels(i._midX,!0),i.plotY=n.toPixels(i._midY,!0),r&&(i.shapeType="path",i.shapeArgs={d:e.translatePath(i.path)})}),e.translateColors()},pointAttribs:function(e,t){var n;return n=m.column.prototype.pointAttribs.call(this,e,t),y?n["vector-effect"]="non-scaling-stroke":n["stroke-width"]="inherit",n},drawPoints:function(){var e=this,t=e.xAxis,n=e.yAxis,r=e.group,s=e.chart,o=s.renderer,u,a,f,l,c=this.baseTrans,h,p,d,v,g;e.transformGroup||(e.transformGroup=o.g().attr({scaleX:1,scaleY:1}).add(r),e.transformGroup.survive=!0),e.doFullTranslate()?(s.hasRendered&&i(e.points,function(t){t.shapeArgs&&(t.shapeArgs.fill=e.pointAttribs(t,t.state).fill)}),e.group=e.transformGroup,m.column.prototype.drawPoints.apply(e),e.group=r,i(e.points,function(e){e.graphic&&(e.name&&e.graphic.addClass("highcharts-name-"+e.name.replace(/ /g,"-").toLowerCase()),e.properties&&e.properties["hc-key"]&&e.graphic.addClass("highcharts-key-"+e.properties["hc-key"].toLowerCase()))}),this.baseTrans={originX:t.min-t.minPixelPadding/t.transA,originY:n.min-n.minPixelPadding/n.transA+(n.reversed?0:n.len/n.transA),transAX:t.transA,transAY:n.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(u=t.transA/c.transAX,a=n.transA/c.transAY,f=t.toPixels(c.originX,!0),l=n.toPixels(c.originY,!0),u>.99&&u<1.01&&a>.99&&a<1.01&&(u=1,a=1,f=Math.round(f),l=Math.round(l)),h=this.transformGroup,s.renderer.globalAnimation?(p=h.attr("translateX"),d=h.attr("translateY"),v=h.attr("scaleX"),g=h.attr("scaleY"),h.attr({animator:0}).animate({animator:1},{step:function(e,t){h.attr({translateX:p+(f-p)*t.pos,translateY:d+(l-d)*t.pos,scaleX:v+(u-v)*t.pos,scaleY:g+(a-g)*t.pos})}})):h.attr({translateX:f,translateY:l,scaleX:u,scaleY:a})),y||e.group.element.setAttribute("stroke-width",e.options[e.pointAttrToOptions&&e.pointAttrToOptions["stroke-width"]||"borderWidth"]/(u||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){d.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var e=this,t=d.prototype.render;e.chart.renderer.isVML&&e.data.length>3e3?setTimeout(function(){t.call(e)}):t.call(e)},animate:function(e){var t=this.chart,n=this.options.animation,r=this.group,i=this.xAxis,s=this.yAxis,o=i.pos,u=s.pos;t.renderer.isSVG&&(n===!0&&(n={duration:1e3}),e?r.attr({translateX:o+i.len/2,translateY:u+s.len/2,scaleX:.001,scaleY:.001}):(r.animate({translateX:o,translateY:u,scaleX:1,scaleY:1},n),this.animate=null))},animateDrilldown:function(e){var t=this.chart.plotBox,n=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],r=n.bBox,s=this.chart.options.drilldown.animation,o;e||(o=Math.min(r.width/t.width,r.height/t.height),n.shapeArgs={scaleX:o,scaleY:o,translateX:r.x,translateY:r.y},i(this.points,function(e){e.graphic&&e.graphic.attr(n.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},s)}),this.animate=null)},drawLegendSymbol:u.drawRectangle,animateDrillupFrom:function(e){m.column.prototype.animateDrillupFrom.call(this,e)},animateDrillupTo:function(e){m.column.prototype.animateDrillupTo.call(this,e)}}),s({applyOptions:function(e,t){var n=p.prototype.applyOptions.call(this,e,t),r=this.series,i=r.joinBy,o;return r.mapData&&(o=n[i[1]]!==undefined&&r.mapMap[n[i[1]]],o?(r.xyFromShape&&(n.x=o._midX,n.y=o._midY),s(n,o)):n.value=n.value||null),n},onMouseOver:function(e){clearTimeout(this.colorInterval),this.value!==null||this.series.options.nullInteraction?p.prototype.onMouseOver.call(this,e):this.series.onMouseOut(e)},zoomTo:function(){var e=this,t=e.series;t.xAxis.setExtremes(e._minX,e._maxX,!1),t.yAxis.setExtremes(e._minY,e._maxY,!1),t.chart.redraw()}},t))}(e),function(e){var t=e.seriesType,n=e.seriesTypes;t("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(e,t){var r=n.map.prototype.pointAttribs.call(this,e,t);return r.fill=this.options.fillColor,r},drawLegendSymbol:n.line.prototype.drawLegendSymbol})}(e),function(e){var t=e.merge,n=e.Point,r=e.seriesType;r("mappoint","scatter",{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0},{applyOptions:function(e,r){var i=e.lat!==undefined&&e.lon!==undefined?t(e,this.series.chart.fromLatLonToPoint(e)):e;return n.prototype.applyOptions.call(this,i,r)}})}(e),function(e){var t=e.arrayMax,n=e.arrayMin,r=e.Axis,i=e.color,s=e.each,o=e.isNumber,u=e.noop,a=e.pick,f=e.pInt,l=e.Point,c=e.Series,h=e.seriesType,p=e.seriesTypes;h("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,pointAttribs:function(e,t){var n=this.options.marker,r=a(n.fillOpacity,.5),s=c.prototype.pointAttribs.call(this,e,t);return r!==1&&(s.fill=i(s.fill).setOpacity(r).get("rgba")),s},getRadii:function(e,t,n,r){var i,s,o,u=this.zData,a=[],f=this.options,l=f.sizeBy!=="width",c=f.zThreshold,h=t-e,p,d;for(s=0,i=u.length;s<i;s++)p=u[s],f.sizeByAbsoluteValue&&p!==null&&(p=Math.abs(p-c),t=Math.max(t-c,Math.abs(e-c)),e=0),p===null?d=null:p<e?d=n/2-1:(o=h>0?(p-e)/h:.5,l&&o>=0&&(o=Math.sqrt(o)),d=Math.ceil(n+o*(r-n))/2),a.push(d);this.radii=a},animate:function(e){var t=this.options.animation;e||(s(this.points,function(e){var n=e.graphic,r;n&&n.width&&(r={x:n.x,y:n.y,width:n.width,height:n.height},n.attr({x:e.plotX,y:e.plotY,width:1,height:1}),n.animate(r,t))}),this.animate=null)},translate:function(){var t,n=this.data,r,i,s=this.radii;p.scatter.prototype.translate.call(this),t=n.length;while(t--)r=n[t],i=s?s[t]:0,o(i)&&i>=this.minPxSize/2?(r.marker=e.extend(r.marker,{radius:i,width:2*i,height:2*i}),r.dlBox={x:r.plotX-i,y:r.plotY-i,width:2*i,height:2*i}):r.shapeArgs=r.plotY=r.dlBox=undefined},alignDataLabel:p.column.prototype.alignDataLabel,buildKDTree:u,applyZones:u},{haloPath:function(e){return l.prototype.haloPath.call(this,e===0?0:(this.marker?this.marker.radius||0:0)+e)},ttBelow:!1}),r.prototype.beforePadding=function(){var e=this,r=this.len,i=this.chart,u=0,l=r,c=this.isXAxis,h=c?"xData":"yData",p=this.min,d={},v=Math.min(i.plotWidth,i.plotHeight),m=Number.MAX_VALUE,g=-Number.MAX_VALUE,y=this.max-p,b=r/y,w=[];s(this.series,function(r){var o=r.options,u;r.bubblePadding&&(r.visible||!i.options.chart.ignoreHiddenSeries)&&(e.allowZoomOutside=!0,w.push(r),c&&(s(["minSize","maxSize"],function(e){var t=o[e],n=/%$/.test(t);t=f(t),d[e]=n?v*t/100:t}),r.minPxSize=d.minSize,r.maxPxSize=Math.max(d.maxSize,d.minSize),u=r.zData,u.length&&(m=a(o.zMin,Math.min(m,Math.max(n(u),o.displayNegative===!1?o.zThreshold:-Number.MAX_VALUE))),g=a(o.zMax,Math.max(g,t(u))))))}),s(w,function(t){var n=t[h],r=n.length,i;c&&t.getRadii(m,g,t.minPxSize,t.maxPxSize);if(y>0)while(r--)o(n[r])&&e.dataMin<=n[r]&&n[r]<=e.dataMax&&(i=t.radii[r],u=Math.min((n[r]-p)*b-i,u),l=Math.max((n[r]-p)*b+i,l))}),w.length&&y>0&&!this.isLog&&(l-=r,b*=(r+u-l)/r,s([["min","userMin",u],["max","userMax",l]],function(t){a(e.options[t[0]],e[t[1]])===undefined&&(e[t[0]]+=t[2]/b)}))}}(e),function(e){var t=e.merge,n=e.Point,r=e.seriesType,i=e.seriesTypes;i.bubble&&r("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:i.map.prototype.getMapData,getBox:i.map.prototype.getBox,setData:i.map.prototype.setData},{applyOptions:function(e,r){var s;return e&&e.lat!==undefined&&e.lon!==undefined?s=n.prototype.applyOptions.call(this,t(e,this.series.chart.fromLatLonToPoint(e)),r):s=i.map.prototype.pointClass.prototype.applyOptions.call(this,e,r),s},ttBelow:!1})}(e),function(e){var t=e.colorPointMixin,n=e.colorSeriesMixin,r=e.each,i=e.LegendSymbolMixin,s=e.merge,o=e.noop,u=e.pick,a=e.Series,f=e.seriesType,l=e.seriesTypes;f("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}},s(n,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var e;l.scatter.prototype.init.apply(this,arguments),e=this.options,e.pointRange=u(e.pointRange,e.colsize||1),this.yAxis.axisPointRange=e.rowsize||1},translate:function(){var e=this,t=e.options,n=e.xAxis,i=e.yAxis,s=function(e,t,n){return Math.min(Math.max(t,e),n)};e.generatePoints(),r(e.points,function(e){var r=(t.colsize||1)/2,o=(t.rowsize||1)/2,u=s(Math.round(n.len-n.translate(e.x-r,0,1,0,1)),-n.len,2*n.len),a=s(Math.round(n.len-n.translate(e.x+r,0,1,0,1)),-n.len,2*n.len),f=s(Math.round(i.translate(e.y-o,0,1,0,1)),-i.len,2*i.len),l=s(Math.round(i.translate(e.y+o,0,1,0,1)),-i.len,2*i.len);e.plotX=e.clientX=(u+a)/2,e.plotY=(f+l)/2,e.shapeType="rect",e.shapeArgs={x:Math.min(u,a),y:Math.min(f,l),width:Math.abs(a-u),height:Math.abs(l-f)}}),e.translateColors()},drawPoints:function(){l.column.prototype.drawPoints.call(this),r(this.points,function(e){e.graphic.attr(this.colorAttribs(e))},this)},animate:o,getBox:o,drawLegendSymbol:i.drawRectangle,alignDataLabel:l.column.prototype.alignDataLabel,getExtremes:function(){a.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,a.prototype.getExtremes.call(this)}}),t)}(e),function(e){function a(e,t){var n,r,i,s,o=!1,u=e.x,a=e.y;for(n=0,r=t.length-1;n<t.length;r=n++)i=t[n][1]>a,s=t[r][1]>a,i!==s&&u<(t[r][0]-t[n][0])*(a-t[n][1])/(t[r][1]-t[n][1])+t[n][0]&&(o=!o);return o}var t=e.Chart,n=e.each,r=e.extend,i=e.format,s=e.merge,o=e.win,u=e.wrap;t.prototype.transformFromLatLon=function(t,n){if(o.proj4===undefined)return e.error(21),{x:0,y:null};var r=o.proj4(n.crs,[t.lon,t.lat]),i=n.cosAngle||n.rotation&&Math.cos(n.rotation),s=n.sinAngle||n.rotation&&Math.sin(n.rotation),u=n.rotation?[r[0]*i+r[1]*s,-r[0]*s+r[1]*i]:r;return{x:((u[0]-(n.xoffset||0))*(n.scale||1)+(n.xpan||0))*(n.jsonres||1)+(n.jsonmarginX||0),y:(((n.yoffset||0)-u[1])*(n.scale||1)+(n.ypan||0))*(n.jsonres||1)-(n.jsonmarginY||0)}},t.prototype.transformToLatLon=function(t,n){if(o.proj4===undefined){e.error(21);return}var r={x:((t.x-(n.jsonmarginX||0))/(n.jsonres||1)-(n.xpan||0))/(n.scale||1)+(n.xoffset||0),y:((-t.y-(n.jsonmarginY||0))/(n.jsonres||1)+(n.ypan||0))/(n.scale||1)+(n.yoffset||0)},i=n.cosAngle||n.rotation&&Math.cos(n.rotation),s=n.sinAngle||n.rotation&&Math.sin(n.rotation),u=o.proj4(n.crs,"WGS84",n.rotation?{x:r.x*i+r.y*-s,y:r.x*s+r.y*i}:r);return{lat:u.y,lon:u.x}},t.prototype.fromPointToLatLon=function(t){var n=this.mapTransforms,r;if(!n){e.error(22);return}for(r in n)if(n.hasOwnProperty(r)&&n[r].hitZone&&a({x:t.x,y:-t.y},n[r].hitZone.coordinates[0]))return this.transformToLatLon(t,n[r]);return this.transformToLatLon(t,n["default"])},t.prototype.fromLatLonToPoint=function(t){var n=this.mapTransforms,r,i;if(!n)return e.error(22),{x:0,y:null};for(r in n)if(n.hasOwnProperty(r)&&n[r].hitZone){i=this.transformFromLatLon(t,n[r]);if(a({x:i.x,y:-i.y},n[r].hitZone.coordinates[0]))return i}return this.transformFromLatLon(t,n["default"])},e.geojson=function(e,t,s){var o=[],u=[],a=function(e){var t,n=e.length;u.push("M");for(t=0;t<n;t++)t===1&&u.push("L"),u.push(e[t][0],-e[t][1])};return t=t||"map",n(e.features,function(e){var i=e.geometry,s=i.type,f=i.coordinates,l=e.properties,c;u=[],t==="map"||t==="mapbubble"?(s==="Polygon"?(n(f,a),u.push("Z")):s==="MultiPolygon"&&(n(f,function(e){n(e,a)}),u.push("Z")),u.length&&(c={path:u})):t==="mapline"?(s==="LineString"?a(f):s==="MultiLineString"&&n(f,a),u.length&&(c={path:u})):t==="mappoint"&&s==="Point"&&(c={x:f[0],y:-f[1]}),c&&o.push(r(c,{name:l.name||l.NAME,properties:l}))}),s&&e.copyrightShort&&(s.chart.mapCredits=i(s.chart.options.credits.mapText,{geojson:e}),s.chart.mapCreditsFull=i(s.chart.options.credits.mapTextFull,{geojson:e})),o},u(t.prototype,"addCredits",function(e,t){t=s(!0,this.options.credits,t),this.mapCredits&&(t.href=null),e.call(this,t),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}(e),function(e){function l(e,t,n,r,i,s,o,u){return["M",e+i,t,"L",e+n-s,t,"C",e+n-s/2,t,e+n,t+s/2,e+n,t+s,"L",e+n,t+r-o,"C",e+n,t+r-o/2,e+n-o/2,t+r,e+n-o,t+r,"L",e+u,t+r,"C",e+u/2,t+r,e,t+r-u/2,e,t+r-u,"L",e,t+i,"C",e,t+i/2,e+i/2,t,e+i,t,"Z"]}var t=e.Chart,n=e.defaultOptions,r=e.each,i=e.extend,s=e.merge,o=e.pick,u=e.Renderer,a=e.SVGRenderer,f=e.VMLRenderer;i(n.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),n.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1},e.splitPath=function(e){var t;e=e.replace(/([A-Za-z])/g," $1 "),e=e.replace(/^\s*/,"").replace(/\s*$/,""),e=e.split(/[ ,]+/);for(t=0;t<e.length;t++)/[a-zA-Z]/.test(e[t])||(e[t]=parseFloat(e[t]));return e},e.maps={},a.prototype.symbols.topbutton=function(e,t,n,r,i){return l(e-1,t-1,n,r,i.r,i.r,0,0)},a.prototype.symbols.bottombutton=function(e,t,n,r,i){return l(e-1,t-1,n,r,0,0,i.r,i.r)},u===f&&r(["topbutton","bottombutton"],function(e){f.prototype.symbols[e]=a.prototype.symbols[e]}),e.Map=e.mapChart=function(n,r,i){var u=typeof n=="string"||n.nodeName,a=arguments[u?1:0],f={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},l,c=e.getOptions().credits;return l=a.series,a.series=null,a=s({chart:{panning:"xy",type:"map"},credits:{mapText:o(c.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:o(c.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:f,yAxis:s(f,{reversed:!0})},a,{chart:{inverted:!1,alignTicks:!1}}),a.series=l,u?new t(n,a,i):new t(a,r)}}(e)}),"use strict",function(e){typeof module=="object"&&module.exports?module.exports=e:e(Highcharts)}(function(e){(function(e){var t=e.defaultOptions,n=e.doc,r=e.Chart,i=e.addEvent,s=e.removeEvent,o=e.fireEvent,u=e.createElement,a=e.discardElement,f=e.css,l=e.merge,c=e.pick,h=e.each,p=e.objectEach,d=e.extend,v=e.isTouchDevice,m=e.win,g=m.navigator.userAgent,y=e.SVGRenderer,b=e.Renderer.prototype.symbols,w=/Edge\/|Trident\/|MSIE /.test(g),E=/firefox/i.test(g);d(t.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),t.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},l(!0,t.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:v?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),t.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},e.post=function(e,t,r){var i=u("form",l({method:"post",action:e,enctype:"multipart/form-data"},r),{display:"none"},n.body);p(t,function(e,t){u("input",{type:"hidden",name:t,value:e},null,i)}),i.submit(),a(i)},d(r.prototype,{sanitizeSVG:function(e,t){if(t&&t.exporting&&t.exporting.allowHTML){var n=e.match(/<\/svg>(.*?$)/);n&&n[1]&&(n='<foreignObject x="0" y="0" width="'+t.chart.width+'" '+'height="'+t.chart.height+'">'+'<body xmlns="http://www.w3.org/1999/xhtml">'+n[1]+"</body>"+"</foreignObject>",e=e.replace("</svg>",n+"</svg>"))}return e=e.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),e=e.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()}),e},getChartHTML:function(){return this.container.innerHTML},getSVG:function(t){var r=this,i,s,o,f,c,p,v,m,g=l(r.options,t);return n.createElementNS||(n.createElementNS=function(e,t){return n.createElement(t)}),s=u("div",null,{position:"absolute",top:"-9999em",width:r.chartWidth+"px",height:r.chartHeight+"px"},n.body),v=r.renderTo.style.width,m=r.renderTo.style.height,c=g.exporting.sourceWidth||g.chart.width||/px$/.test(v)&&parseInt(v,10)||600,p=g.exporting.sourceHeight||g.chart.height||/px$/.test(m)&&parseInt(m,10)||400,d(g.chart,{animation:!1,renderTo:s,forExport:!0,renderer:"SVGRenderer",width:c,height:p}),g.exporting.enabled=!1,delete g.data,g.series=[],h(r.series,function(e){f=l(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible}),f.isInternal||g.series.push(f)}),h(r.axes,function(t){t.userOptions.internalKey||(t.userOptions.internalKey=e.uniqueKey())}),i=new e.Chart(g,r.callback),t&&h(["xAxis","yAxis","series"],function(e){var n={};t[e]&&(n[e]=t[e],i.update(n))}),h(r.axes,function(t){var n=e.find(i.axes,function(e){return e.options.internalKey===t.userOptions.internalKey}),r=t.getExtremes(),s=r.userMin,o=r.userMax;n&&(s!==undefined||o!==undefined)&&n.setExtremes(s,o,!0,!1)}),o=i.getChartHTML(),o=r.sanitizeSVG(o,g),g=null,i.destroy(),a(s),o},getSVGForExport:function(e,t){var n=this.options.exporting;return this.getSVG(l({chart:{borderRadius:0}},n.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))},exportChart:function(t,n){var r=this.getSVGForExport(t,n);t=l(this.options.exporting,t),e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale,svg:r},t.formAttributes)},print:function(){var e=this,t=e.container,r=[],i=t.parentNode,s=n.body,u=s.childNodes,a=e.options.exporting.printMaxWidth,f,l;if(e.isPrinting)return;e.isPrinting=!0,e.pointer.reset(null,0),o(e,"beforePrint"),l=a&&e.chartWidth>a,l&&(f=[e.options.chart.width,undefined,!1],e.setSize(a,undefined,!1)),h(u,function(e,t){e.nodeType===1&&(r[t]=e.style.display,e.style.display="none")}),s.appendChild(t),m.focus(),m.print(),setTimeout(function(){i.appendChild(t),h(u,function(e,t){e.nodeType===1&&(e.style.display=r[t])}),e.isPrinting=!1,l&&e.setSize.apply(e,f),o(e,"afterPrint")},1e3)},contextMenu:function(t,r,s,o,a,l,c){var p=this,v=p.options.navigation,m=p.chartWidth,g=p.chartHeight,y="cache-"+t,b=p[y],w=Math.max(a,l),E,S,x;b||(p[y]=b=u("div",{className:t},{position:"absolute",zIndex:1e3,padding:w+"px"},p.container),E=u("div",{className:"highcharts-menu"},null,b),f(E,d({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},v.menuStyle)),S=function(){f(b,{display:"none"}),c&&c.setState(0),p.openMenu=!1},p.exportEvents.push(i(b,"mouseleave",function(){b.hideTimer=setTimeout(S,500)}),i(b,"mouseenter",function(){clearTimeout(b.hideTimer)}),i(n,"mouseup",function(e){p.pointer.inClass(e.target,t)||S()})),h(r,function(t){typeof t=="string"&&(t=p.options.exporting.menuItemDefinitions[t]);if(e.isObject(t,!0)){var n;t.separator?n=u("hr",null,null,E):(n=u("div",{className:"highcharts-menu-item",onclick:function(e){e&&e.stopPropagation(),S(),t.onclick&&t.onclick.apply(p,arguments)},innerHTML:t.text||p.options.lang[t.textKey]},null,E),n.onmouseover=function(){f(this,v.menuItemHoverStyle)},n.onmouseout=function(){f(this,v.menuItemStyle)},f(n,d({cursor:"pointer"},v.menuItemStyle))),p.exportDivElements.push(n)}}),p.exportDivElements.push(E,b),p.exportMenuWidth=b.offsetWidth,p.exportMenuHeight=b.offsetHeight),x={display:"block"},s+p.exportMenuWidth>m?x.right=m-s-a-w+"px":x.left=s-w+"px",o+l+p.exportMenuHeight>g&&c.alignOptions.verticalAlign!=="top"?x.bottom=g-o-w+"px":x.top=o+l-w+"px",f(b,x),p.openMenu=!0},addButton:function(e){var t=this,n=t.renderer,r=l(t.options.navigation.buttonOptions,e),i=r.onclick,s=r.menuItems,o,u,a=r.symbolSize||12;t.btnCount||(t.btnCount=0),t.exportDivElements||(t.exportDivElements=[],t.exportSVGElements=[]);if(r.enabled===!1)return;var f=r.theme,h=f.states,p=h&&h.hover,v=h&&h.select,m;delete f.states,i?m=function(e){e.stopPropagation(),i.call(t,e)}:s&&(m=function(){t.contextMenu(u.menuClassName,s,u.translateX,u.translateY,u.width,u.height,u),u.setState(2)}),r.text&&r.symbol?f.paddingLeft=c(f.paddingLeft,25):r.text||d(f,{width:r.width,height:r.height,padding:0}),u=n.button(r.text,0,0,m,f,p,v).addClass(e.className).attr({"stroke-linecap":"round",title:t.options.lang[r._titleKey],zIndex:3}),u.menuClassName=e.menuClassName||"highcharts-menu-"+t.btnCount++,r.symbol&&(o=n.symbol(r.symbol,r.symbolX-a/2,r.symbolY-a/2,a,a).addClass("highcharts-button-symbol").attr({zIndex:1}).add(u),o.attr({stroke:r.symbolStroke,fill:r.symbolFill,"stroke-width":r.symbolStrokeWidth||1})),u.add().align(d(r,{width:u.width,x:c(r.x,t.buttonOffset)}),!0,"spacingBox"),t.buttonOffset+=(u.width+r.buttonSpacing)*(r.align==="right"?-1:1),t.exportSVGElements.push(u,o)},destroyExport:function(e){var t=e?e.target:this,n=t.exportSVGElements,r=t.exportDivElements,i=t.exportEvents,o;n&&(h(n,function(e,n){e&&(e.onclick=e.ontouchstart=null,o="cache-"+e.menuClassName,t[o]&&delete t[o],t.exportSVGElements[n]=e.destroy())}),n.length=0),r&&(h(r,function(e,n){clearTimeout(e.hideTimer),s(e,"mouseleave"),t.exportDivElements[n]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,a(e)}),r.length=0),i&&(h(i,function(e){e()}),i.length=0)}}),b.menu=function(e,t,n,r){var i=["M",e,t+2.5,"L",e+n,t+2.5,"M",e,t+r/2+.5,"L",e+n,t+r/2+.5,"M",e,t+r-1.5,"L",e+n,t+r-1.5];return i},r.prototype.renderExporting=function(){var e=this,t=e.options.exporting,n=t.buttons,r=e.isDirtyExporting||!e.exportSVGElements;e.buttonOffset=0,e.isDirtyExporting&&e.destroyExport(),r&&t.enabled!==!1&&(e.exportEvents=[],p(n,function(t){e.addButton(t)}),e.isDirtyExporting=!1),i(e,"destroy",e.destroyExport)},r.prototype.callbacks.push(function(e){function t(t,n,r){e.isDirtyExporting=!0,l(!0,e.options[t],n),c(r,!0)&&e.redraw()}e.renderExporting(),i(e,"redraw",e.renderExporting),h(["exporting","navigation"],function(n){e[n]={update:function(e,r){t(n,e,r)}}})})})(e)}),$.fn.makeHmap=function(){var e={chart:{marginBottom:80,height:550,spacingBottom:90},title:{useHTML:!0,margin:15,text:"",style:{color:"#000000",fontFamily:'"RO Sans", Verdana, sans-serif',fontWeight:"bold",fontSize:"1.1em"}},subtitle:{useHTML:!0,text:"",style:{color:"#535353",fontFamily:'"RO Sans", Verdana, sans-serif',fontWeight:"bold",fontSize:"0.9em"}},legend:{enabled:!0,y:60,x:-20,align:"center",verticalAlign:"bottom"},tooltip:{useHTML:!0,headerFormat:"",pointFormat:'<div class="innerTooltip"><b>{point.areaDescr}: {point.fullvalue}</b></div>',style:{color:"#000000",fontFamily:'"RO Sans", Verdana, sans-serif',fontSize:"0.8em"},backgroundColor:"rgba(255,255,255, 1)",padding:8,valueDecimals:0},navigation:{buttonOptions:{enabled:!1}},mapNavigation:{enabled:!0,enableDoubleClickZoomTo:!1,enableDoubleClickZoom:!1,buttonOptions:{theme:{fill:"#f3f3f3","stroke-width":1,stroke:"#ffffff",states:{hover:{fill:"#e6e6e6",stroke:"#ffffff"},select:{fill:"#f3f3f3"}}},verticalAlign:"bottom"},enableMouseWheelZoom:!1},colorAxis:{min:1,max:6e3,minColor:"#e1e1e1",maxColor:"#333333",gridLineWidth:0,labels:{enabled:!0,formatter:function(){return this.isFirst?this.value+1+" "+this.chart.options.axisSuffix:this.value+" "+this.chart.options.axisSuffix},style:{color:"#333333",fontFamily:'"ROSans", Verdana, sans-serif',fontSize:"0.9em"}},tickPositions:[1,3e3]},xAxis:{minPadding:.05,maxPadding:.05},yAxis:{minPadding:.05,maxPadding:.05},plotOptions:{series:{states:{hover:{color:"#e1e1e1"}},joinBy:"hc-key"},map:{nullColor:"#ffffff"}},credits:{enabled:!0,href:"",text:"",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{color:"#535353",fontFamily:'"RO Sans", Verdana, sans-serif',fontWeight:"normal",fontSize:"1.08333em",cursor:"pointer"}},series:[{data:""}],axisSuffix:"",map:""},t=$.extend({},e);return this.each(function(){function n(){e.settings=t,e.dataSets=e.find(".dataSet"),e.toggleOptionsContainer=e.find(".collapsiblePanels");var n=e.data("mappath");$.getJSON(n,function(t){e.map=t,r(),i(),o(e.dataSets[0])})}function r(){$("<div/>",{"class":"mapAreaDark"}).appendTo(e),$("<div/>",{"class":"mapAreaLight"}).appendTo(e),$("<div/>",{"class":"mapAreaHover"}).appendTo(e);var t=$(".mapAreaDark").css("color"),n=$(".mapAreaLight").css("color"),r=$(".mapAreaHover").css("color");e.settings.colorAxis.maxColor=t,e.settings.colorAxis.minColor=n,e.settings.plotOptions.series.states.hover.color=r,$(".mapAreaDark").remove(),$(".mapAreaLight").remove(),$(".mapAreaHover").remove()}function i(){e.mapFigureContainer=$("<div/>",{"class":"thematicmap","aria-hidden":"true"}).prependTo(e);var t=e.find(".mapOptions");$("<div/>",{"class":"descriptionText"}).prependTo(t);var n=e.find(".table").parent(".panel"),r=n.find(".panelContent").attr("id");$("<button/>",{html:e.data("tableheadertxt"),"aria-controls":r}).prependTo(n),e.find(".dataSet:eq(0)").addClass("current"),e.find(".dataSet .description").hide();if(e.dataSets.length>1){var i="panelDataset"+(new Date).getTime().toString(36),o=$("<div/>",{"class":"panel",html:'<button aria-controls="'+i+'">'+e.data("segmentheadertxt")+"</button>"}).prependTo(e.toggleOptionsContainer),a=$("<div/>",{role:"region","aria-expanded":"true","aria-hidden":"false","class":"panelContent segments",id:i,tabindex:"-1"}).appendTo(o),f=$("<ul/>").appendTo(a);e.dataSets.each(function(){$("<li/>",{html:'<a href="#" class="loadDataSet">'+$(this).find(".title").html()+"</a></h2>"}).appendTo(f)}),f.find("li:eq(0) a").addClass("current")}var l="panelDownload"+(new Date).getTime().toString(36),c=$("<div/>",{"class":"panel",html:'<button aria-controls="'+l+'">'+e.data("downloadheadertxt")+"</button>"}).appendTo(e.toggleOptionsContainer),h=$("<div/>",{"aria-role":"region","aria-expanded":"true","aria-hidden":"false","class":"panelContent downloads",id:l,tabindex:"-1"}).appendTo(c),p=$("<ul/>").appendTo(h);e.data("export")==="export"&&e.dataSets.each(function(){$("<li/>",{html:'<a href="#" class="exportChart png">'+e.data("downloadtxt")+" png</a>"}).appendTo(p)}),p.find("li:eq(0)").addClass("current");var d="metaDownload"+(new Date).getTime().toString(36),v=$("<div/>",{"class":"panel metaPanel",html:'<button aria-controls="'+d+'"></button>'}).appendTo(e.toggleOptionsContainer),m=$("<div/>",{"aria-role":"region","aria-expanded":"true","aria-hidden":"false","class":"panelContent metadatatoggle",id:d,tabindex:"-1"}).appendTo(v);e.find(".collapsiblePanels").createCollapsePanels(),s(),u()}function s(){if(e.attr("data-opentabs")){var t=e.attr("data-opentabs").replace(/\s/g,"").split(",");for(var n=0;n<t.length;n++)e.toggleOptionsContainer.find("."+t[n]).parent(".panel").removeClass("closed").addClass("open")}}function o(t){e.settings.plotOptions.series.mapData=e.map;var n=$(t);n.find(".title").length>0?e.settings.title.text=a(n.find(".title").html()):e.settings.title.text="",n.find(".subtitle").length>0?e.settings.subtitle.text=a(n.find(".subtitle").html()):e.settings.subtitle.text="",n.find(".source").length>0?e.settings.credits.text=a(n.find(".source").html()):e.settings.credits.text="",n.find(".description").length>0?e.settings.descriptionTxt=a(n.find(".description").html()):e.settings.descriptionTxt="";if(n.find(".downloadDataset").length>0){var r=e.toggleOptionsContainer.find(".panelContent.downloads ul");r.find(".panelDownloadLink").remove();var i=n.find(".downloadDataset");r.append('<li class="panelDownloadLink"><a href="'+i.attr("href")+'">'+i.html()+"</a></li>")}else e.toggleOptionsContainer.find(".panelDownloadLink").remove();n.find(".metadata").length>0?(e.settings.metadata=n.find(".metadata"),e.settings.metaHeader=a(e.settings.metadata.attr("data-metaheader")),e.settings.metaBody=a(e.settings.metadata.html()),e.toggleOptionsContainer.find(".metaPanel button").html(e.settings.metaHeader),e.toggleOptionsContainer.find(".metadatatoggle").html(e.settings.metaBody),e.toggleOptionsContainer.find(".metaPanel").css({display:"inline-block"})):(e.toggleOptionsContainer.find(".metaPanel button").html(""),e.toggleOptionsContainer.find(".metadatatoggle").html(""),e.toggleOptionsContainer.find(".metaPanel").css({display:"none"}),e.settings.metaHeader="",e.settings.metaBody=""),e.find(".descriptionText").html(e.settings.descriptionTxt);var s=[],o=n.find("table:first"),u=o.find("tbody"),l=0,c=1e5;e.settings.axisSuffix="",e.settings.plotOptions.series.joinBy=e.data("key")||"hc-key",u.find("tr").each(function(){var t=$(this).find("th").data("fieldid"),n=$(this).find("th").html(),r=$(this).find("td").html(),i=r.replace(/[^0-9$.,-]/g,""),o=i.replace(/[,]/g,".");o===""&&(o=null),parseInt(o)>parseInt(l)&&(l=parseInt(o)),parseInt(o)<parseInt(c)&&(c=parseInt(o)),e.settings.colorAxis.min=c,e.settings.colorAxis.max=l,e.settings.colorAxis.tickPositions=[c-1,l];var u={};u[e.settings.plotOptions.series.joinBy]=t,u.areaDescr=n,u.value=o,u.fullvalue=$(this).find("td").html(),s.push(u);var a="",f="",h="",p=r.match("([0-9])","g");p&&(f=r.indexOf(p[0]));var d=r.match("([^0-9., ])","g");d&&(h=r.indexOf(d[0])),f<h&&r.substring(h,r.length)&&(a=r.substring(h,r.length)),a!==""&&(e.settings.axisSuffix=a)});var h=[];h.push({data:s}),e.settings.series=h,f()}function u(){e.find(".loadDataSet").click(function(t){t.preventDefault();var n=$(this).parent("li").index();$(this).parents("ul").find(".current").removeClass("current"),$(this).addClass("current"),e.find(".dataSet.current").removeClass("current"),e.find(".dataSet:eq("+n+")").addClass("current"),e.find(".downloads li.current").removeClass("current"),e.find(".downloads li:eq("+n+")").addClass("current"),o(e.dataSets[n])}),e.find(".exportChart").click(function(t){t.preventDefault();if($(this).hasClass("png")){var n=e.mapFigureContainer.highcharts(),r=n.options.title.text.toLowerCase().replace(/ /g,"-");n.exportChart({type:"image/png",filename:r,scale:1.5,sourceWidth:900,url:"//export.highcharts.com/"})}else window.open($(this).attr("href"),"Download")})}function a(e){return e.replace("&amp;","&")}function f(){e.mapFigureContainer.highcharts("Map",e.settings)}var e=$(this);n()})},$(".hmap").makeHmap()
